import{k as Y,q as k,p as A,l as f,d as Z,h as w,F as X,w as J,x as L,ac as ee,j as z,H as ae,S as te,U as ne,r as se,W as ie,Y as x,Z as n,_ as le,e as oe,Q as u,$ as s,a0 as e,ad as re,X as a,ae as B,af as P,a4 as d,a5 as i,a6 as ce,R as N,P as _,a1 as M,ag as de,ah as ue,ai as ge,a8 as O,aj as _e}from"./popup/popup.js";import{_ as pe}from"./_plugin-vue_export-helper.js";import{_ as me}from"./Input.js";import{A as fe}from"./ArrowBackIosRound.js";import{_ as he,d as ve,e as be,N as Re}from"./DescriptionsItem.js";import{_ as Ie}from"./Flex.js";import"./get-slot.js";const Ae=Y("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[k("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[k("no-title",`
 display: flex;
 align-items: center;
 `)]),A("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),f("title-position-left",[A("line",[f("left",{width:"28px"})])]),f("title-position-right",[A("line",[f("right",{width:"28px"})])]),f("dashed",[A("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),f("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),A("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),k("dashed",[A("line",{backgroundColor:"var(--n-color)"})]),f("dashed",[A("line",{borderColor:"var(--n-color)"})]),f("vertical",{backgroundColor:"var(--n-color)"})]),Ne=Object.assign(Object.assign({},L.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Se=Z({name:"Divider",props:Ne,setup(p){const{mergedClsPrefixRef:o,inlineThemeDisabled:h}=J(p),g=L("Divider","-divider",Ae,ee,p,o),t=z(()=>{const{common:{cubicBezierEaseInOut:r},self:{color:v,textColor:b,fontWeight:m}}=g.value;return{"--n-bezier":r,"--n-color":v,"--n-text-color":b,"--n-font-weight":m}}),l=h?ae("divider",void 0,t,p):void 0;return{mergedClsPrefix:o,cssVars:h?void 0:t,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var p;const{$slots:o,titlePlacement:h,vertical:g,dashed:t,cssVars:l,mergedClsPrefix:r}=this;return(p=this.onRender)===null||p===void 0||p.call(this),w("div",{role:"separator",class:[`${r}-divider`,this.themeClass,{[`${r}-divider--vertical`]:g,[`${r}-divider--no-title`]:!o.default,[`${r}-divider--dashed`]:t,[`${r}-divider--title-position-${h}`]:o.default&&h}],style:l},g?null:w("div",{class:`${r}-divider__line ${r}-divider__line--left`}),!g&&o.default?w(X,null,w("div",{class:`${r}-divider__title`},this.$slots),w("div",{class:`${r}-divider__line ${r}-divider__line--right`})):null)}}),we={key:0},Me={key:1},Ce={key:2},ye={key:3},Ee={key:0},Oe={key:1},Te={key:0},ke={key:1},xe={key:0},Be={__name:"Subscription",setup(p){const o=te(),h=le(),g=oe("axios"),t=ne(),l=se(!1),{instanceRegistered:r,loginEmail:v,loginPassword:b,loginToken:m,isFree:Pe,isBasic:Ue,isPro:Ge,isUltimate:Le}=ie(t);z(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent));const D=function(){h.push({name:"settings"})},$=()=>{window.open("https://www.auto-swiper.ch/#pricing")},F=()=>{window.open("https://www.auto-swiper.ch/#pricing")},H=()=>{window.open("https://app.auto-swiper.ch")},V=async()=>{await _e(t,g,o,!0),o.success(a.i18n.getMessage("SUBSCRIPTION_INFOS_REFRESHED"))},C=async()=>{if(v.value.length<5&&b.value.length<3&&m.value.length<20){o.warning(a.i18n.getMessage("ERROR_LOGIN_REQUEST"));return}l.value=!0,await de(t,g,o),l.value=!1},K=async()=>{t.instanceRegistered=!1,t.subscriptionActive=!1,t.subscriptionRenewDate=null,t.isFree=!0,t.isBasic=!1,t.isPro=!1,t.isUltimate=!1,t.loginEmail="",t.loginPassword="",t.loginToken="",await a.storage.local.remove(["loginToken","uuid","instanceRegistered","userId","heartbeatStatus","lastHeartbeat","lastActivity","scheduledSessionsEnabled","isFree","isBasic","isPro","isUltimate"]);try{await a.runtime.sendMessage({action:"stopAuthenticatedServices"}),O("Authenticated services stopped after logout")}catch(y){O("Failed to stop authenticated services:",y)}},W=async()=>{t.instanceName=t.instanceName.replace(/[^a-zA-Z0-9]/g,""),l.value=!0,t.loginToken.length<20&&await ue(t,g,o);const y={method:"GET",url:ge,params:{uuid:t.uuid,name:t.instanceName},headers:{Authorization:"Bearer "+m.value}};g.request(y).then(function(c){let S=c.data;O(S),l.value=!1,o.success(a.i18n.getMessage("INSTANCE_NAME_CHANGED"))}).catch(function(c){O(c),l.value=!1,o.warning(a.i18n.getMessage("ERROR_LOGIN_REQUEST"))})};return(y,c)=>{const S=me,j=Se,E=Ie,R=ce,U=re,T=ve,G=he,Q=Re,q=be;return u(),x(G,{"label-placement":"top",column:1},{default:n(()=>[s(T,null,{default:n(()=>[e(r)===!1?(u(),x(U,{key:0,title:e(a).i18n.getMessage("LOGIN"),segmented:{content:!0,footer:"soft"}},{action:n(()=>[s(E,{"aria-label":e(a).i18n.getMessage("ARIA_LOGIN_ACTION_GROUP")},{default:n(()=>[s(R,{loading:l.value,type:"primary",size:"small",disabled:e(v).length<5&&e(b).length<3&&e(m).length<20,onClick:C,"aria-label":e(a).i18n.getMessage("ARIA_LOGIN")},{default:n(()=>[d(i(e(a).i18n.getMessage("LOGIN")),1)]),_:1},8,["loading","disabled","aria-label"]),s(R,{type:"error",size:"small",onClick:F,"aria-label":e(a).i18n.getMessage("ARIA_REGISTER")},{default:n(()=>[d(i(e(a).i18n.getMessage("REGISTER")),1)]),_:1},8,["aria-label"]),s(R,{type:"info",size:"small",onClick:$,"aria-label":e(a).i18n.getMessage("ARIA_SHOW_PRICING")},{default:n(()=>[d(i(e(a).i18n.getMessage("PRICING")),1)]),_:1},8,["aria-label"])]),_:1},8,["aria-label"])]),default:n(()=>[s(E,{vertical:""},{default:n(()=>[s(S,{value:e(v),"onUpdate:value":c[0]||(c[0]=I=>P(v)?v.value=I:null),type:"text",placeholder:e(a).i18n.getMessage("EMAIL"),onKeydown:B(C,["enter"]),"aria-label":e(a).i18n.getMessage("ARIA_EMAIL")},null,8,["value","placeholder","aria-label"]),s(S,{value:e(b),"onUpdate:value":c[1]||(c[1]=I=>P(b)?b.value=I:null),type:"password",placeholder:e(a).i18n.getMessage("PASSWORD"),onKeydown:B(C,["enter"]),"aria-label":e(a).i18n.getMessage("ARIA_PASSWORD")},null,8,["value","placeholder","aria-label"]),s(j,null,{default:n(()=>[d(i(e(a).i18n.getMessage("OR")),1)]),_:1}),s(S,{value:e(m),"onUpdate:value":c[2]||(c[2]=I=>P(m)?m.value=I:null),type:"text",placeholder:e(a).i18n.getMessage("API_TOKEN"),onKeydown:B(C,["enter"]),"aria-label":e(a).i18n.getMessage("ARIA_API_TOKEN")},null,8,["value","placeholder","aria-label"])]),_:1})]),_:1},8,["title"])):(u(),x(U,{key:1,title:e(a).i18n.getMessage("SUBSCRIPTION"),segmented:{content:!0,footer:"soft"}},{action:n(()=>[s(E,{"aria-label":e(a).i18n.getMessage("ARIA_SUBSCRIPTION_ACTION_GROUP")},{default:n(()=>[s(R,{type:"info",size:"small",onClick:H,"aria-label":e(a).i18n.getMessage("ARIA_SHOW_BILLING_DASHBOARD")},{default:n(()=>[d(i(e(a).i18n.getMessage("BILLING_DASHBOARD")),1)]),_:1},8,["aria-label"]),s(R,{type:"primary",size:"small",onClick:V,"aria-label":e(a).i18n.getMessage("ARIA_REFRESH_SUBSCRIPTION")},{default:n(()=>[d(i(e(a).i18n.getMessage("REFRESH")),1)]),_:1},8,["aria-label"]),s(R,{type:"error",size:"small",onClick:K,"aria-label":e(a).i18n.getMessage("ARIA_LOGOUT")},{default:n(()=>[d(i(e(a).i18n.getMessage("LOGOUT")),1)]),_:1},8,["aria-label"])]),_:1},8,["aria-label"])]),default:n(()=>[s(E,{vertical:""},{default:n(()=>[N("span",null,[c[4]||(c[4]=d(" UUID:  ",-1)),N("span",null,i(e(t).uuid),1)]),s(G,{"label-placement":"left","label-align":"center","label-style":"vertical-align: middle",column:1},{default:n(()=>[s(T,{label:e(a).i18n.getMessage("NAME")},{default:n(()=>[s(S,{value:e(t).instanceName,"onUpdate:value":c[3]||(c[3]=I=>e(t).instanceName=I),onBlur:W,maxlength:"100","show-count":"","aria-label":e(a).i18n.getMessage("ARIA_INSTANCE_NAME")},null,8,["value","aria-label"])]),_:1},8,["label"])]),_:1}),N("span",null," Instance Name:  "+i(e(t).instanceName),1),N("span",null,[d(i(e(a).i18n.getMessage("SUBSCRIPTION_PLAN"))+":  ",1),e(t).isFree?(u(),_("span",we,"Free")):M("",!0),e(t).isBasic?(u(),_("span",Me,"Basic")):M("",!0),e(t).isPro?(u(),_("span",Ce,"Pro")):M("",!0),e(t).isUltimate?(u(),_("span",ye,"Ultimate")):M("",!0)]),N("span",null,[d(i(e(a).i18n.getMessage("SUBSCRIPTION_STATUS"))+":  ",1),e(t).subscriptionActive?(u(),_("span",Ee,i(e(a).i18n.getMessage("ACTIVE")),1)):(u(),_("span",Oe,i(e(a).i18n.getMessage("NOT_ACTIVE")),1))]),N("span",null,[d(i(e(a).i18n.getMessage("SUBSCRIPTION_CANCELED"))+":  ",1),e(t).subscriptionCanceled?(u(),_("span",Te,i(e(a).i18n.getMessage("YES")),1)):(u(),_("span",ke,i(e(a).i18n.getMessage("NO")),1))]),e(t).subscriptionCanceled?M("",!0):(u(),_("span",xe,[d(i(e(a).i18n.getMessage("SUBSCRIPTION_RENEWDATE"))+":  ",1),N("span",null,i(e(t).subscriptionRenewDate),1)]))]),_:1})]),_:1},8,["title"]))]),_:1}),s(T,null,{default:n(()=>[s(q,{trigger:"hover"},{trigger:n(()=>[s(R,{size:"small",onClick:D,"aria-label":e(a).i18n.getMessage("ARIA_GO_BACK")},{icon:n(()=>[s(Q,null,{default:n(()=>[s(e(fe))]),_:1})]),_:1},8,["aria-label"])]),default:n(()=>[d(" "+i(e(a).i18n.getMessage("BACK")),1)]),_:1})]),_:1})]),_:1})}}},We=pe(Be,[["__scopeId","data-v-05c3b668"]]);export{We as default};
