var fe=Object.defineProperty;var pe=(U,q,F)=>q in U?fe(U,q,{enumerable:!0,configurable:!0,writable:!0,value:F}):U[q]=F;var h=(U,q,F)=>pe(U,typeof q!="symbol"?q+"":q,F);(function(){"use strict";function U(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var q={exports:{}},F=q.exports,z;function re(){return z||(z=1,(function(d,e){(function(r,s){s(d)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:F,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const s="The message port closed before a response was received.",i=o=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(n).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(l,w=void 0){super(w),this.createItem=l}get(l){return this.has(l)||this.set(l,this.createItem(l)),super.get(l)}}const u=g=>g&&typeof g=="object"&&typeof g.then=="function",m=(g,l)=>(...w)=>{o.runtime.lastError?g.reject(new Error(o.runtime.lastError.message)):l.singleCallbackArg||w.length<=1&&l.singleCallbackArg!==!1?g.resolve(w[0]):g.resolve(w)},A=g=>g==1?"argument":"arguments",T=(g,l)=>function(b,...E){if(E.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${A(l.minArgs)} for ${g}(), got ${E.length}`);if(E.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${A(l.maxArgs)} for ${g}(), got ${E.length}`);return new Promise((M,_)=>{if(l.fallbackToNoCallback)try{b[g](...E,m({resolve:M,reject:_},l))}catch(y){console.warn(`${g} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),b[g](...E),l.fallbackToNoCallback=!1,l.noCallback=!0,M()}else l.noCallback?(b[g](...E),M()):b[g](...E,m({resolve:M,reject:_},l))})},C=(g,l,w)=>new Proxy(l,{apply(b,E,M){return w.call(E,g,...M)}});let x=Function.call.bind(Object.prototype.hasOwnProperty);const a=(g,l={},w={})=>{let b=Object.create(null),E={has(_,y){return y in g||y in b},get(_,y,L){if(y in b)return b[y];if(!(y in g))return;let P=g[y];if(typeof P=="function")if(typeof l[y]=="function")P=C(g,g[y],l[y]);else if(x(w,y)){let B=T(y,w[y]);P=C(g,g[y],B)}else P=P.bind(g);else if(typeof P=="object"&&P!==null&&(x(l,y)||x(w,y)))P=a(P,l[y],w[y]);else if(x(w,"*"))P=a(P,l[y],w["*"]);else return Object.defineProperty(b,y,{configurable:!0,enumerable:!0,get(){return g[y]},set(B){g[y]=B}}),P;return b[y]=P,P},set(_,y,L,P){return y in b?b[y]=L:g[y]=L,!0},defineProperty(_,y,L){return Reflect.defineProperty(b,y,L)},deleteProperty(_,y){return Reflect.deleteProperty(b,y)}},M=Object.create(g);return new Proxy(M,E)},f=g=>({addListener(l,w,...b){l.addListener(g.get(w),...b)},hasListener(l,w){return l.hasListener(g.get(w))},removeListener(l,w){l.removeListener(g.get(w))}}),R=new c(g=>typeof g!="function"?g:function(w){const b=a(w,{},{getContent:{minArgs:0,maxArgs:0}});g(b)}),k=new c(g=>typeof g!="function"?g:function(w,b,E){let M=!1,_,y=new Promise(H=>{_=function(I){M=!0,H(I)}}),L;try{L=g(w,b,_)}catch(H){L=Promise.reject(H)}const P=L!==!0&&u(L);if(L!==!0&&!P&&!M)return!1;const B=H=>{H.then(I=>{E(I)},I=>{let G;I&&(I instanceof Error||typeof I.message=="string")?G=I.message:G="An unexpected error occurred",E({__mozWebExtensionPolyfillReject__:!0,message:G})}).catch(I=>{console.error("Failed to send onMessage rejected reply",I)})};return B(P?L:y),!0}),v=({reject:g,resolve:l},w)=>{o.runtime.lastError?o.runtime.lastError.message===s?l():g(new Error(o.runtime.lastError.message)):w&&w.__mozWebExtensionPolyfillReject__?g(new Error(w.message)):l(w)},O=(g,l,w,...b)=>{if(b.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${A(l.minArgs)} for ${g}(), got ${b.length}`);if(b.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${A(l.maxArgs)} for ${g}(), got ${b.length}`);return new Promise((E,M)=>{const _=v.bind(null,{resolve:E,reject:M});b.push(_),w.sendMessage(...b)})},V={devtools:{network:{onRequestFinished:f(R)}},runtime:{onMessage:f(k),onMessageExternal:f(k),sendMessage:O.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:O.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},N={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":N},services:{"*":N},websites:{"*":N}},a(o,V,n)};r.exports=i(chrome)}})})(q)),q.exports}var ie=re();const p=U(ie),j="https://app.auto-swiper.ch/api/v3",X=j+"/login",J=j+"/location/distance",Z=j+"/sessions/add",Q=j+"/sessions/start",K=j+"/sessions/end";let ee=!1;async function Y(){const d=await p.storage.local.get({withDebuggerOutput:null});d.withDebuggerOutput!==null&&(ee=d.withDebuggerOutput)}Y();async function t(...d){ee&&console.log(...d)}const W=async(d,e,r)=>{if(d.loginEmail.length<4||d.loginPassword.length<4)return;const s={method:"GET",url:X,params:{uuid:d.uuid},auth:{username:d.loginEmail.toLowerCase(),password:d.loginPassword},headers:{Accept:"application/json","Content-Type":"application/json"}};try{let o=(await e.request(s)).data;d.loginToken=o.data.token,await p.storage.local.set({loginToken:o.data.token})}catch(i){t(i),r.warning(p.i18n.getMessage("ERROR_LOGIN_REQUEST"))}};function D(d){if(!d)return[];function e(i){if(!i||typeof i.querySelectorAll!="function")return[];let o=[];function n(u){const m=/((https?:)?\/\/[^\s"'()<>]+(?:\.[^\s"'()<>]+)*(?:[^\s"'()<>]*))/gi,A=u.match(m);return A||[]}return[i,...Array.from(i.querySelectorAll("*"))].forEach(u=>{for(let m=0;m<u.attributes.length;m++){const A=u.attributes[m].value;o.push(...n(A))}if(u.style&&typeof u.style.cssText=="string"&&o.push(...n(u.style.cssText)),window.getComputedStyle){const m=window.getComputedStyle(u);for(let A=0;A<m.length;A++){const T=m.getPropertyValue(m[A]);o.push(...n(T))}}u.innerHTML&&typeof u.innerHTML=="string"&&o.push(...n(u.innerHTML))}),o}let r=[];if(d instanceof Element)r=[d];else if(typeof NodeList<"u"&&d instanceof NodeList||typeof HTMLCollection<"u"&&d instanceof HTMLCollection||Array.isArray(d))r=Array.from(d);else return[];const s=r.flatMap(e);return Array.from(new Set(s))}const $=Object.freeze(Object.defineProperty({__proto__:null,addSessionUrl:Z,endSession:async(d,e,r,s,i)=>{if(!r.loginToken||r.loginToken.length<20)if(s)await W(r,s,i);else throw new Error("No valid authentication token");const o={method:"PUT",headers:{Authorization:"Bearer "+r.loginToken,"Content-Type":"application/json"},body:JSON.stringify({uuid:r.uuid,session_id:d,swipes_left:e.swipes_left,swipes_right:e.swipes_right,swipes_total:e.swipes_total,logs:e.logs||[],ended_at:e.ended_at||new Date().toISOString()})};try{const n=await fetch(K,o);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const c=await n.json();return t("Session ended:",c),i&&i.success("Session completed successfully"),c}catch(n){throw t("Error ending session:",n),i&&i.error("Failed to end session: "+n.message),n}},endSessionUrl:K,failSession:async(d,e,r,s,i)=>{if(!r.loginToken||r.loginToken.length<20)if(s)await W(r,s,i);else throw new Error("No valid authentication token");const o={method:"PUT",headers:{Authorization:"Bearer "+r.loginToken,"Content-Type":"application/json"},body:JSON.stringify({uuid:r.uuid,session_id:d,swipes_left:0,swipes_right:0,swipes_total:0,status:"failed",failure_reason:e.reason||"Session execution failed",error_details:{error_message:e.message||"Unknown error",error_stack:e.stack,timestamp:e.timestamp||new Date().toISOString(),session_type:e.session_type||"regular"},ended_at:new Date().toISOString()})};try{const n=await fetch(K,o);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const c=await n.json();return t("Session failed and reported:",c),i&&i.error("Session failed: "+(e.reason||"Unknown error")),c}catch(n){throw t("Error reporting session failure:",n),i&&i.error("Failed to report session failure: "+n.message),n}},getAuthToken:W,getPicturesFromElement:D,loadWithDebuggerOutput:Y,locationDistanceUrl:J,log:t,loginUrl:X,startSession:async(d,e,r,s)=>{if(!e.loginToken||e.loginToken.length<20)if(r)await W(e,r,s);else throw new Error("No valid authentication token");const i={method:"POST",headers:{Authorization:"Bearer "+e.loginToken,"Content-Type":"application/json"},body:JSON.stringify({uuid:e.uuid,site:d.site,scheduled_session_id:d.scheduled_session_id||null})};try{const o=await fetch(Q,i);if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const n=await o.json();return t("Session started:",n),s&&s.success("Session started successfully"),n}catch(o){throw t("Error starting session:",o),s&&s.error("Failed to start session: "+o.message),o}},startSessionUrl:Q},Symbol.toStringTag,{value:"Module"}));class se{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"recentlyActive",!1);h(this,"supportRandomUsageSimulation",!0);h(this,"activePictureIndex",0)}getSiteName(){return"tinder"}getSwipeSpeedModifier(){return window.location.href.includes("app/likes-you")||window.location.href.includes("app/gold-home")?1:.65}getElementForKeyEvents(){return window.body??document.body??document.documentElement}swipeLeft(){try{const e=document.querySelector(".profileCard__card");if(!e)return t("swipeLeft: .profileCard__card not found"),!1;const r=e.parentElement;if(!r)return t("swipeLeft: parentElement 1 not found"),!1;const s=r.parentElement;if(!s||!s.children[1])return t("swipeLeft: parentElement 2 or children[1] not found"),!1;const i=s.children[1].querySelectorAll("button");if(!i||i.length===0)return t("swipeLeft: No buttons found"),!1;const o=i[0];return o?(o.click(),!0):(t("swipeLeft: Button not found"),!1)}catch(e){return t("swipeLeft error: "+e),!1}}swipeRight(){try{const e=document.querySelector(".profileCard__card");if(!e)return t("swipeRight: .profileCard__card not found"),!1;const r=e.parentElement;if(!r)return t("swipeRight: parentElement 1 not found"),!1;const s=r.parentElement;if(!s||!s.children[1])return t("swipeRight: parentElement 2 or children[1] not found"),!1;const i=s.children[1].querySelectorAll("button");if(!i||i.length<3)return t("swipeRight: Not enough buttons found"),!1;const o=i[2];return o?(o.click(),!0):(t("swipeRight: Button not found"),!1)}catch(e){return t("swipeRight error: "+e),!1}}removeMessages(){var e,r,s,i,o,n,c,u,m,A,T,C,x,a,f,R,k,v,O,V,N,g;try{const l=document.querySelector('[role="dialog"]');if(l){const w=l.querySelectorAll("button");if(((r=(e=l.children[2])==null?void 0:e.children)==null?void 0:r.length)===2)if(((s=l.textContent)==null?void 0:s.search("Rewinds"))>0){(n=(o=(i=l.children[2])==null?void 0:i.children[1])==null?void 0:o.click)==null||n.call(o),t("Closed Rewinds Dialog");return}else if(((c=l.textContent)==null?void 0:c.search("Super"))>0){(A=(m=(u=l.children[2])==null?void 0:u.children[1])==null?void 0:m.click)==null||A.call(m),t("Closed Super Likes Dialog");return}else if(((T=l.textContent)==null?void 0:T.search("prioritise"))>0){(a=(x=(C=l.children[2])==null?void 0:C.children[1])==null?void 0:x.click)==null||a.call(x),t("Closed upgrade likes Dialog (Platinum Upgrade)");return}else{this.autoSwiper&&(this.autoSwiper.stop=!0),t("Out of likes, stopping auto swiper");return}else if(((R=(f=l.children[3])==null?void 0:f.children)==null?void 0:R.length)===1){t("Upgrade Likes Dialog, closing it"),(v=(k=l.children[3])==null?void 0:k.click)==null||v.call(k);return}else if(w.length===2){t("Upgrade SuperLikes Dialog, closing it"),(V=(O=w[1])==null?void 0:O.click)==null||V.call(O);return}else l.children[5]&&(t("Closing Dialog"),(g=(N=l.children[5])==null?void 0:N.click)==null||g.call(N))}}catch(l){t("removeMessages error: "+l)}try{let l=document.querySelector('[data-testid="recCard_info"]');l&&(t("Closing info Dialog"),l.click()),l=document.querySelector(".close"),l&&!window.location.href.includes("app/likes-you")&&(l.click(),t("Closed match Dialog"))}catch(l){t("removeMessages (secondary) error: "+l)}}getProfileCard(){var r;let e=null;try{let s=!0;if((window.location.href.includes("app/recs")||window.location.href.includes("app/explore")||window.location.href.includes("app/likes-you")||window.location.href.includes("app/gold-home"))&&(s=!1),s){const i=document.querySelector("[href='/app/profile']");i&&i.hidden===!1&&i.click(),setTimeout(function(){const o=document.querySelector("[href='/app/recs']");o&&!o.className.toString().includes("Op(1)")&&o.hidden===!1&&o.click()},250)}if((r=this.autoSwiper)!=null&&r.mobile){if(window.location.href.includes("app/likes-you")||window.location.href.includes("app/gold-home")){const i=document.querySelectorAll('[data-testid="likesYouCard"]');i&&i.length>0&&i[0].children[2]&&i[0].children[2].click()}else if(e=document.querySelector(".profileContent"),!e){const i=document.querySelector(".recsCardboard__cardsContainer");if(i){const o=i.querySelector("button.focus-button-style");o&&o.click()}}}else if(window.location.href.includes("app/likes-you")){const i=document.querySelectorAll('[data-testid="likesYouCard"]');i&&i.length>0&&i[0].children[2]&&i[0].children[2].click()}else{const i=document.querySelector(".recsCardboard__cardsContainer");if(i){const o=i.querySelectorAll(".Pos\\(a\\).D\\(f\\).Jc\\(sb\\).C\\(\\$c-ds-text-primary-overlay\\).Ta\\(start\\).W\\(100\\%\\).Ai\\(fe\\).B\\(0\\).P\\(8px\\)--xs.P\\(16px\\).P\\(20px\\)--l.Cur\\(p\\).focus-button-style");if(o&&o.length>1){const c=o[1].querySelector(".Sq\\(8px\\).Bdrs\\(50\\%\\).Mend\\(4px\\).My\\(4px\\).Bgc\\(\\$c-ds-background-badge-online-now-default\\)");this.recentlyActive=!!c}else this.recentlyActive=!1;const n=i.querySelector("button.focus-button-style");n&&n.click()}}}catch(s){t("getProfileCard error: "+s)}return document.querySelector(".profileContent")}getName(){try{if(!this.profileCard)return t("getName: profileCard not set"),"";const e=this.profileCard.querySelector(".Fxs\\(1\\)");return e&&e.children[0]?e.children[0].innerText.trim():""}catch(e){return t("getName error: "+e),""}}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";const e=this.profileCard.querySelector(".Whs\\(nw\\)");return e?e.innerText.trim():""}catch(e){return t("getAge error: "+e),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){var r,s,i,o,n;let e=5e5;try{const c=document.querySelector('svg path[d="M12.301 23.755c.746-.659 9.449-8.339 9.449-14.337C21.75 4.138 17.463 0 11.998 0 6.534 0 2.25 4.138 2.25 9.418c0 2.675 1.602 5.91 4.769 9.616a45.204 45.204 0 0 0 4.737 4.759l.246.207.26-.21zm-.305-2.424c.94-.889 2.376-2.32 3.77-4.011 1.084-1.315 2.105-2.741 2.847-4.152.753-1.433 1.142-2.705 1.142-3.75 0-4.113-3.328-7.423-7.757-7.423-4.428 0-7.753 3.309-7.753 7.423 0 1.941 1.208 4.713 4.29 8.319a42.901 42.901 0 0 0 3.461 3.594"]');if(c){let u=(s=(r=c.parentElement)==null?void 0:r.parentElement)==null?void 0:s.parentElement;if(u&&u.innerText===""&&(u=(n=(o=(i=c.parentElement)==null?void 0:i.parentElement)==null?void 0:o.parentElement)==null?void 0:n.parentElement),u){const m=u.innerText.match(/\d+/);if(m)return e=parseInt(m[0]),e}}}catch(c){t("getDistance error: "+c)}return e}getLocation(){var r,s,i,o;let e="";try{if(!this.profileCard)return t("getLocation: profileCard not set"),e;const n=(o=(i=(s=(r=this.profileCard.children[1])==null?void 0:r.children[0])==null?void 0:s.children[0])==null?void 0:i.children[1])==null?void 0:o.children;if(n)for(const c of n){const m=c.innerText.match(/Lives in (.*)/);m&&(e=m[1],t("getLocation: "+e))}}catch(n){return t("getLocation error: "+n),e}return e}getProfileDescriptionText(){var e,r,s,i,o;try{if(!this.profileCard)return t("getProfileDescriptionText: profileCard not set"),"";let n=this.profileCard.querySelector(".BreakWord");return n?n.innerText:(n=this.profileCard.querySelector('svg path[d="M7.713 3.826c-.699-.568-1.7-.607-2.388-.027C2.022 6.584 0 10.285 0 14.493c0 4.181 2.75 6.644 5.842 6.644 2.864 0 5.27-2.406 5.27-5.327 0-2.807-2.005-4.697-4.41-4.697-.595 0-1.088-.531-.8-1.051.455-.82 1.109-1.642 1.829-2.36C8.76 6.678 8.918 4.806 7.79 3.89zm12.888 0c-.699-.568-1.7-.607-2.388-.027-3.303 2.785-5.325 6.486-5.325 10.694 0 4.181 2.807 6.644 5.9 6.644 2.806 0 5.212-2.406 5.212-5.327 0-2.807-1.948-4.697-4.41-4.697-.586 0-1.07-.534-.782-1.044.46-.818 1.108-1.639 1.819-2.356 1.023-1.032 1.178-2.908.05-3.824z"]'),n?((o=(i=(s=(r=(e=n.parentElement)==null?void 0:e.parentElement)==null?void 0:r.parentElement)==null?void 0:s.parentElement)==null?void 0:i.children[1])==null?void 0:o.innerText)??"":"")}catch(n){return t("getProfileDescriptionText error: "+n),""}}async getProfilePictureUrls(){t("Getting profile picture URLs...");const e=50,r=2e3,s=document.querySelector(".profileContent");if(!s)return t("Element .profileContent not found."),[];const i=s.querySelector(".Expand > .CenterAlign");if(!i)return t("Scroller (.Expand > .CenterAlign) not found within .profileContent."),[];const o=Array.from(i.children);let n=[],c=null;function u(C){const x=C.match(/url\(["']?(.*?)["']?\)/);return x?x[1]:null}function m(){const C=s.querySelector('.keen-slider__slide[aria-hidden="false"]');if(!C)return{slideIndex:null,imageUrl:null};const x=Array.from(C.parentNode.children).indexOf(C),a=C.querySelector(".profileCard__slider__imgShadow .profileCard__slider__img"),f=a&&a.style.backgroundImage?u(a.style.backgroundImage):null;return{slideIndex:x,imageUrl:f}}async function A(C,x){const a=Date.now();for(;Date.now()-a<r;){const{slideIndex:f,imageUrl:R}=m();if(f!==null&&R!==null&&(f!==C||R!==x))return{slideIndex:f,imageUrl:R};await new Promise(k=>setTimeout(k,e))}return{slideIndex:null,imageUrl:null}}const T=m();T.slideIndex,c=T.imageUrl,c&&!n.includes(c)?(n.push(c),t(`[getProfilePictureUrls] Collected initial image: ${c}`)):t("[getProfilePictureUrls] No initial image found.");for(let C=0;C<o.length;C++){const x=o[C],{slideIndex:a,imageUrl:f}=m();if(a===C){t(`[getProfilePictureUrls] Slide ${C} already active, extracting image...`),f&&!n.includes(f)&&(n.push(f),t(`[getProfilePictureUrls] Collected image from already active slide: ${f}`));continue}t(`[getProfilePictureUrls] Clicking scroller child ${C}...`),x.click();const{slideIndex:R,imageUrl:k}=await A(a,f);if(R!==null&&k&&!n.includes(k))n.push(k),t(`[getProfilePictureUrls] Collected image after click: ${k}`);else{const v=m();v.imageUrl&&!n.includes(v.imageUrl)?(n.push(v.imageUrl),t(`[getProfilePictureUrls] Fallback: Collected image after failed wait: ${v.imageUrl}`)):t(`[getProfilePictureUrls] Could not collect image for slide ${C}`)}c=k!==null?k:f}return t("[getProfilePictureUrls] Final collected URLs:",n),n}getProfileText(){try{return this.profileCard?this.profileCard.innerText:(t("getProfileText: profileCard not set"),"")}catch(e){return t("getProfileText error: "+e),""}}getPhotoCount(){try{if(!this.profileCard)return t("getPhotoCount: profileCard not set"),1;const e=this.profileCard.querySelector(".Expand>.CenterAlign");return e?e.childNodes.length:1}catch(e){return t("getPhotoCount error: "+e),1}}getVerifiedStatus(){try{const e=document.querySelector(".D\\(ib\\).Lh\\(0\\).Sq\\(18px\\).Mstart\\(4px\\).As\\(c\\)");if(e&&e.querySelector("svg.Expand"))return!0}catch(e){t("getVerifiedStatus error: "+e)}return!1}getRecentlyActive(){return this.recentlyActive}doRandomUsageSimulation(){var e,r;try{this.activePictureIndex++,this.activePictureIndex>this.getPhotoCount()&&(this.activePictureIndex=0);const s=Math.floor(Math.random()*700+300),i=Math.floor(Math.random()*700+300);if(this.activePictureIndex===1)(e=this.profileCard)!=null&&e.scroll&&this.profileCard.scroll({top:s,left:0,behavior:"smooth"}),setTimeout(()=>{var o;(o=this.profileCard)!=null&&o.scroll&&this.profileCard.scroll({top:0,left:0,behavior:"smooth"}),this.getPhotoCount()>1&&setTimeout(()=>{var c;const n=(c=this.profileCard)==null?void 0:c.querySelector(".Expand>.CenterAlign");n&&n.children[this.activePictureIndex]&&n.children[this.activePictureIndex].click()},i)},i);else if(this.getPhotoCount()>1){const o=(r=this.profileCard)==null?void 0:r.querySelector(".Expand>.CenterAlign");o&&o.children[this.activePictureIndex]&&o.children[this.activePictureIndex].click()}}catch(s){t("doRandomUsageSimulation error: "+s)}}reset(){this.activePictureIndex=0}openChatPage(){try{const e=document.querySelectorAll("[role=tab]");e.length>1&&e[1]?e[1].click():t("openChatPage: Not enough tabs found")}catch(e){t("openChatPage error: "+e)}}getChatList(){try{return document.querySelectorAll(".messageListItem")}catch(e){return t("getChatList error: "+e),[]}}openChat(e){try{e&&typeof e.click=="function"?e.click():t("openChat: chatElement invalid or missing click()")}catch(r){t("openChat error: "+r)}}getMessages(e){try{return(e==null?void 0:e.querySelectorAll(".msgHelper"))??[]}catch(r){return t("getMessages error: "+r),[]}}sendMessage(e){try{const r=document.querySelector("textarea"),s=document.querySelector('button[type="submit"]');r&&s?(r.value=e,s.click()):t("sendMessage: textarea or submit button not found")}catch(r){t("sendMessage error: "+r)}}}class oe{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"beelineCards",null);h(this,"beelineCardIndex",0);h(this,"supportRandomUsageSimulation",!0)}getSiteName(){return"bumble"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return window??document??document.body}swipeLeft(){var e,r,s;try{if(window.location.href.includes("app/beeline")){const i=document.querySelector(".user-card__action--no");i?i.click():t("swipeLeft: .user-card__action--no button not found")}else(e=this.autoSwiper)!=null&&e.simulateDebuugerKeyEvent&&((s=(r=this.autoSwiper)==null?void 0:r.keys)!=null&&s.arrowLeft)?this.autoSwiper.simulateDebuugerKeyEvent(this.autoSwiper.keys.arrowLeft):t("swipeLeft: autoSwiper or keys.arrowLeft not available")}catch(i){t("swipeLeft error: "+i)}}swipeRight(){var e,r,s;try{if(window.location.href.includes("app/beeline")){const i=document.querySelector(".user-card__action--yes");if(i){i.click();const o=document.querySelector(".profile__close");o?o.click():t("swipeRight: .profile__close button not found")}else t("swipeRight: .user-card__action--yes button not found")}else(e=this.autoSwiper)!=null&&e.simulateDebuugerKeyEvent&&((s=(r=this.autoSwiper)==null?void 0:r.keys)!=null&&s.arrowRight)?this.autoSwiper.simulateDebuugerKeyEvent(this.autoSwiper.keys.arrowRight):t("swipeRight: autoSwiper or keys.arrowRight not available")}catch(i){t("swipeRight error: "+i)}}removeMessages(){var e,r,s,i,o;try{if(document.querySelector(".encounters-user__blocker")){this.autoSwiper&&(this.autoSwiper.stop=!0),t("Out of likes, stopping auto swiper.");return}const c=document.getElementsByClassName("encounters-match__cta-action");c.length>1&&((e=c[1])!=null&&e.children[0])&&(r=this.autoSwiper)!=null&&r.simulateDebuggerMouseClick&&this.autoSwiper.simulateDebuggerMouseClick(c[1].children[0]),(s=this.autoSwiper)!=null&&s.simulateDebuugerKeyEvent&&((o=(i=this.autoSwiper)==null?void 0:i.keys)!=null&&o.escape)&&(this.autoSwiper.simulateDebuugerKeyEvent(this.autoSwiper.keys.escape),this.autoSwiper.simulateDebuugerKeyEvent(this.autoSwiper.keys.escape))}catch(n){t("removeMessages error: "+n)}}getProfileCard(){var e;try{if(window.location.href.includes("app/beeline")){let r=document.querySelector(".profile");return r||(this.beelineCards||(this.beelineCards=document.querySelectorAll(".user-card.has-hoverable-actions:not(.has-visible-actions)"),this.beelineCardIndex=0),this.beelineCards&&this.beelineCards.length>0&&this.beelineCardIndex<this.beelineCards.length?(this.beelineCards[this.beelineCardIndex].scrollIntoView(),(e=this.autoSwiper)!=null&&e.simulateDebuggerMouseClick&&this.autoSwiper.simulateDebuggerMouseClick(this.beelineCards[this.beelineCardIndex]),this.beelineCardIndex++):(this.beelineCards=null,this.beelineCardIndex=0),null)}return document.querySelector(".encounters-user__frame")}catch(r){return t("getProfileCard error: "+r),null}}getName(){try{if(!this.profileCard)return t("getName: profileCard not set"),"";if(window.location.href.includes("app/beeline")){const e=this.profileCard.querySelector(".profile__name");return e?e.innerText.trim():""}else{const e=this.profileCard.querySelector(".encounters-story-profile__name");return e?e.innerText.trim():""}}catch(e){return t("getName error: "+e),""}}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";if(window.location.href.includes("app/beeline")){const e=this.profileCard.querySelector(".profile__age");return e?e.innerText.trim().split(" ")[1]??"":""}else{const e=this.profileCard.querySelector(".encounters-story-profile__age");return e?e.innerText.trim().split(" ")[1]??"":""}}catch(e){return t("getAge error: "+e),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){let e=5e5;try{if(!this.profileCard)return t("getDistance: profileCard not set"),e;const r=this.profileCard.querySelector(".location-widget__distance");if(r&&r.firstChild){const s=parseInt(r.firstChild.innerText.split(" ")[0].replace("~",""));Number.isInteger(s)&&(e=s)}}catch(r){t("getDistance error: "+r)}return e}getLocation(){let e="";try{const r=document.querySelector(".location-widget__town");if(r){let s=r.innerText.split(",")[0];s&&(e=s)}}catch(r){t("getLocation error: "+r)}return e}getProfileDescriptionText(){try{if(!this.profileCard)return t("getProfileDescriptionText: profileCard not set"),"";const e=[];let r=null;return window.location.href.includes("app/beeline")?r=Array.from(this.profileCard.querySelectorAll(".profile__about")):r=Array.from(this.profileCard.querySelectorAll(".encounters-story-about__text")),e.push(r.map(s=>s.textContent.trim().toLowerCase()).join(" ")),e.join("")}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{return this.profileCard?this.profileCard.innerText.toLowerCase():(t("getProfileText: profileCard not set"),"")}catch(e){return t("getProfileText error: "+e),""}}getPhotoCount(){try{return window.location.href.includes("app/beeline")?document.querySelectorAll(".profile__photo").length:document.querySelectorAll(".media-box__picture-image").length}catch(e){return t("getPhotoCount error: "+e),1}}getVerifiedStatus(){try{if(!this.profileCard)return t("getVerifiedStatus: profileCard not set"),!1;let e=null;return window.location.href.includes("app/beeline")?e=this.profileCard.querySelector(".profile__verify"):e=this.profileCard.querySelector(".encounters-story-profile__verification"),!!e}catch(e){return t("getVerifiedStatus error: "+e),!1}}getRecentlyActive(){return!0}getProfilePictureUrls(){return this.profileCard?D(this.profileCard.querySelectorAll(".media-box__picture-image")):(t("getProfilePictureUrls: profileCard not set"),[])}doRandomUsageSimulation(){try{const e=Math.floor(Math.random()*700+300);setTimeout(()=>{var r,s,i;(r=this.autoSwiper)!=null&&r.simulateDebuugerKeyEvent&&((i=(s=this.autoSwiper)==null?void 0:s.keys)!=null&&i.arrowDown)&&this.autoSwiper.simulateDebuugerKeyEvent(this.autoSwiper.keys.arrowDown)},e)}catch(e){t("doRandomUsageSimulation error: "+e)}}reset(){}}class ne{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"supportRandomUsageSimulation",!0)}getSiteName(){return"okcupid"}getSwipeSpeedModifier(){return 2}getElementForKeyEvents(){return window.body??document.body??document}swipeLeft(){var e;try{let r=null;(e=this.autoSwiper)!=null&&e.mobile?r=document.querySelector(".profile-buttons-actions-pass"):r=document.querySelector('[class="dt-action-buttons-button pass"]'),r?r.click():t("swipeLeft: pass button not found")}catch(r){t("swipeLeft error: "+r)}}swipeRight(){var e;try{let r=null;(e=this.autoSwiper)!=null&&e.mobile?r=document.querySelector(".profile-buttons-actions-like"):r=document.querySelector('[class="dt-action-buttons-button like"]'),r?r.click():t("swipeRight: like button not found")}catch(r){t("swipeRight error: "+r)}}removeMessages(){try{const e=document.querySelector(".dynamic-likes-cap-modal"),r=document.querySelector(".likes-cap-breather-modal");(e||r)&&this.autoSwiper&&(this.autoSwiper.stop=!0);let s=null,i=document.querySelector(".OkModalContent-main");if(i&&(s=i.querySelector(".likes-celebration-actions-anticta"),s&&s.click(),s=i.querySelector(".photo-requirements-cancel"),s&&s.click()),i=document.querySelector(".reactmodal-contents"),i&&(s=i.querySelector(".superlike-upgrade-your-like-dismiss"),s&&s.click()),s=document.querySelector(".connection-view-container-close-button"),s&&s.click(),i=document.querySelector(".FullscreenOverlay-inner"),i){let n=i.querySelectorAll("button");n&&n.length>1&&n[1].click()}if(s=document.querySelector(".profile-buttons-modal-buttons-cancel"),s){s.click();const n=document.querySelector("[href='/discover']");n&&n.hidden===!1&&n.click()}let o=document.querySelector('[data-cy="matchEvent.closeButton"]');o&&o.click()}catch(e){t("removeMessages error: "+e)}}getProfileCard(){var e,r;try{if(!((e=this.autoSwiper)!=null&&e.mobile)){if(!window.location.href.includes("discover")){const i=document.querySelector("[href='/discover']");i&&i.hidden===!1&&i.click()}}let s=null;if((r=this.autoSwiper)!=null&&r.mobile)if(s=document.querySelector("#profile"),s===null){let i=document.querySelector(".i-arrow-down");i&&i.click()}else return s;else return document.querySelector(".desktop-dt-content")}catch(s){t("getProfileCard error: "+s)}return null}getName(){var e;try{if(!this.profileCard)return t("getName: profileCard not set"),"";let r="",s=null;return(e=this.autoSwiper)!=null&&e.mobile?s=this.profileCard.querySelector(".card-content-header__text"):s=this.profileCard.querySelector(".card-content-header__name-container"),s&&(r=s.innerText.trim()),r}catch(r){return t("getName error: "+r),""}}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";let e=0,r=this.profileCard.querySelector(".card-content-header__location");return r&&(e=r.innerText.split(" ")[0]),e}catch(e){return t("getAge error: "+e),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){return 0}getLocation(){var e,r,s;try{if(!this.profileCard)return t("getLocation: profileCard not set"),"";let i="",o=this.profileCard.querySelector(".card-content-header__location");return o&&(i=(s=(r=(e=o.innerText.trim())==null?void 0:e.split("•")[1])==null?void 0:r.split(",")[0])==null?void 0:s.trim()),i}catch(i){return t("getLocation error: "+i),""}}getProfileDescriptionText(){var e;try{if(!this.profileCard)return t("getProfileDescriptionText: profileCard not set"),"";let r="";return(e=this.autoSwiper)!=null&&e.mobile?r=this.profileCard.querySelector(".profile-essay-contents"):r=this.profileCard.querySelector(".dt-essay"),r?r.innerText.trim().toLowerCase():""}catch(r){return t("getProfileDescriptionText error: "+r),""}}getProfileText(){try{if(!this.profileCard)return t("getProfileText: profileCard not set"),"";const e=[];e.push((this.getName()??"").toLowerCase());const r=this.getProfileDescriptionText();r&&e.push(r);const s=this.profileCard.querySelector(".matchprofile-details");return s&&e.push(s.innerText.trim().toLowerCase()),e.join(" ")}catch(e){return t("getProfileText error: "+e),""}}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getPhotoCount(){var e;try{if(!this.profileCard)return t("getPhotoCount: profileCard not set"),1;let r=null;return(e=this.autoSwiper)!=null&&e.mobile?r=this.profileCard.querySelector(".tappy-thumbs-outer-container"):r=this.profileCard.querySelector(".sliding-pagination-inner-content"),r!=null&&r.childNodes&&typeof r.childNodes.length=="number"&&r.childNodes.length||1}catch(r){return t("getPhotoCount error: "+r),1}}getVerifiedStatus(){return!0}getRecentlyActive(){return!0}doRandomUsageSimulation(){try{const e=Math.floor(Math.random()*300+300),r=Math.floor(Math.random()*700+300);setTimeout(()=>{window.scroll({top:e,left:0,behavior:"smooth"})},r)}catch(e){t("doRandomUsageSimulation error: "+e)}}reset(){}}class ae{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"supportRandomUsageSimulation",!1)}getSiteName(){return"lovoo"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return document.querySelector(".modal-content")??document??window??document.body}removeProfileModal(){try{const e=document.querySelector(".modal-backdrop");e&&typeof e.hide=="function"&&e.hide();const r=document.querySelector(".modal-dialog");r&&typeof r.remove=="function"&&r.remove()}catch(e){t("removeProfileModal error: "+e)}}swipeLeft(){var e,r,s;try{(e=this.autoSwiper)!=null&&e.simulateKeyEvent&&((s=(r=this.autoSwiper)==null?void 0:r.keys)!=null&&s.escape)&&(this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keypress",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keypress",this.autoSwiper.keys.escape));const i=document.querySelector('[data-automation-id="vote-no-button"]');i?i.click():t("swipeLeft: vote-no-button not found")}catch(i){t("swipeLeft error: "+i)}}swipeRight(){var e,r,s;try{(e=this.autoSwiper)!=null&&e.simulateKeyEvent&&((s=(r=this.autoSwiper)==null?void 0:r.keys)!=null&&s.escape)&&(this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keypress",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keypress",this.autoSwiper.keys.escape));const i=document.querySelector('[data-automation-id="vote-yes-button"]');i?i.click():t("swipeRight: vote-yes-button not found")}catch(i){t("swipeRight error: "+i)}}removeMessages(){var e,r,s;try{const i=document.querySelector('[data-automation-id="match-continue-playing-button"]');i&&i.click(),document.querySelector('[data-automation-id="match-booster-dialog"]')&&(this.autoSwiper&&(this.autoSwiper.stop=!0),(e=this.autoSwiper)!=null&&e.simulateKeyEvent&&((s=(r=this.autoSwiper)==null?void 0:r.keys)!=null&&s.escape)&&this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape))}catch(i){t("removeMessages error: "+i)}}getProfileCard(){var e;try{if((e=this.autoSwiper)!=null&&e.stop)return null;if(!window.location.href.includes("match")){const s=document.querySelector("[href='/match']");s&&s.hidden===!1&&s.click()}const r=document.querySelector('[data-automation-id="match-user-profile-link"]');return r&&r.click(),document.querySelector(".modal-content")}catch(r){return t("getProfileCard error: "+r),null}}getName(){try{if(!this.profileCard)return t("getName: profileCard not set"),"";const e=this.profileCard.querySelector(".profile-details");return e&&e.children[0]?e.children[0].innerText.split(", ")[0]:""}catch(e){return t("getName error: "+e),""}}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";const e=this.profileCard.querySelector(".profile-details");return e&&e.children[0]?e.children[0].innerText.split(", ")[1]:""}catch(e){return t("getAge error: "+e),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){return 0}getLocation(){try{let e="";const r=document.querySelector('[ng-if="post.owner.locations.home.city"]');if(r){let s=r.innerText.trim();s.includes(" ")?e=s.split(" ")[1]:e=s}return e}catch(e){return t("getLocation error: "+e),""}}getProfileDescriptionText(){try{if(!this.profileCard)return t("getProfileDescriptionText: profileCard not set"),"";const e=this.profileCard.querySelector(".tab-content");return e?e.querySelector('[ng-switch-when="false"]')?"":e.innerText:""}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{if(!this.profileCard)return t("getProfileText: profileCard not set"),"";const e=[];e.push((this.getName()??"").toLowerCase());const r=this.profileCard.querySelector('[ng-if="post.owner.locations.home.city"]');r&&e.push(r.innerText.trim().toLowerCase());const s=this.profileCard.querySelector(".tab-content");s&&e.push(s.innerText.trim().toLowerCase());const i=this.profileCard.querySelector(".media-list-devided");return i&&e.push(i.innerText.trim().toLowerCase()),e.join(" ")}catch(e){return t("getProfileText error: "+e),""}}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getPhotoCount(){try{return this.profileCard?this.profileCard.querySelectorAll(".feed-post-image-container").length||1:(t("getPhotoCount: profileCard not set"),1)}catch(e){return t("getPhotoCount error: "+e),1}}getVerifiedStatus(){try{const e=document.querySelector('[ng-switch="!!user.verified"]');return e?!!e.querySelector('[ng-switch-when="true"]'):!1}catch(e){return t("getVerifiedStatus error: "+e),!1}}getRecentlyActive(){return!0}doRandomUsageSimulation(){}reset(){}}class le{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"newUi",!1);h(this,"likedYouCards",null);h(this,"likedYouCardIndex",0);h(this,"supportRandomUsageSimulation",!0);h(this,"lastScroll",0)}getSiteName(){return"badoo"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return document??window??document.body}swipeLeft(){var e,r,s,i;try{if(window.location.href.includes("liked-you")){const o=document.querySelector(".profile-card-full__close");if(o){if(o.click(),this.likedYouCards&&this.likedYouCardIndex>0){const n=(e=this.likedYouCards[this.likedYouCardIndex-1])==null?void 0:e.querySelector(".csms-user-card-content__actions");n&&n.children[0]?n.children[0].click():t("swipeLeft: actionBar or children[0] not found")}}else t("swipeLeft: closeButton not found");return}(r=this.autoSwiper)!=null&&r.simulateKeyEvent&&((i=(s=this.autoSwiper)==null?void 0:s.keys)!=null&&i.Digit2)?this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.Digit2):t("swipeLeft: autoSwiper or keys.Digit2 not available")}catch(o){t("swipeLeft error: "+o)}}swipeRight(){var e,r,s,i;try{if(window.location.href.includes("liked-you")){const o=document.querySelector(".profile-card-full__close");if(o){if(o.click(),this.likedYouCards&&this.likedYouCardIndex>0){const n=(e=this.likedYouCards[this.likedYouCardIndex-1])==null?void 0:e.querySelector(".csms-user-card-content__actions");n&&n.children[1]?n.children[1].click():t("swipeRight: actionBar or children[1] not found")}}else t("swipeRight: closeButton not found");return}(r=this.autoSwiper)!=null&&r.simulateKeyEvent&&((i=(s=this.autoSwiper)==null?void 0:s.keys)!=null&&i.Digit1)?this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.Digit1):t("swipeRight: autoSwiper or keys.Digit1 not available")}catch(o){t("swipeRight error: "+o)}}removeMessages(){var e,r;try{const s=document.querySelectorAll(".csms-actionsheet__list-item");s&&s.length>1&&s[1].children[0]&&s[1].children[0].click();const i=document.querySelector(".csms-screen");if(i){let a=i.querySelector('[data-qa="close-button"]');if(a){a.click();return}if(a=i.querySelector('[data-qa="profile-question-blocker-secondary"]'),a){a.click();return}if(a=i.querySelector('[data-qa-icon-name="navigation-bar-close"]'),a){a.click();return}}const o=document.querySelector(".mutual-attractions-wrapper");if(o){let a=o.querySelector('[data-qa-icon="navigation-bar-close"]');if(a){a.click();return}}const n=document.querySelector(".csms-modal");if(n){let a=n.querySelectorAll(".csms-action-row");if(a&&a.length>1){a[1].click();return}}if(document.querySelector(".encounters-card-no-results")){const a=document.querySelectorAll(".csms-tabbar__item")[0];a&&a.click()}if(document.querySelector(".promo-card")&&((e=this.autoSwiper)!=null&&e.simulateMouseDragAndDropRightToLeft)){const a=document.querySelector(".promo-card__inner");a&&this.autoSwiper.simulateMouseDragAndDropRightToLeft(a)}if(document.querySelector("[data-qa='promo-card-cta']")&&((r=this.autoSwiper)!=null&&r.simulateMouseDragAndDropRightToLeft)){const a=document.querySelector(".promo-card__inner");a&&this.autoSwiper.simulateMouseDragAndDropRightToLeft(a)}let A=document.querySelector(".overlay-page");if(A){let a=A.querySelectorAll(".csms-button");a&&a.length===2&&a[1].click()}const T=document.querySelector('[data-qa="modal-close"]');T&&T.click();let C=document.querySelector('[data-qa="modal-action-cancel"]');C&&C.click();const x=document.querySelector(".promo-card__close");x&&x.click()}catch(s){t("removeMessages error: "+s)}}getProfileCard(){var e,r;try{if(window.location.href.includes("liked-you")){let i=document.querySelector(".profile-card-full");return i?(t("Profile found"),i):(this.likedYouCards||(t("Get liked you cards"),this.likedYouCards=document.querySelectorAll(".want-to-meet-you-grid__item:has(button:nth-of-type(2)):not(:has(button:nth-of-type(3)))"),this.likedYouCardIndex=0),this.likedYouCards&&this.likedYouCards.length>0&&this.likedYouCardIndex<this.likedYouCards.length?(t("Scroll to liked you card"),this.likedYouCards[this.likedYouCardIndex].scrollIntoView(),(e=this.autoSwiper)!=null&&e.simulateDebuggerMouseClick&&this.autoSwiper.simulateDebuggerMouseClick(this.likedYouCards[this.likedYouCardIndex]),this.likedYouCardIndex++):(t("Reset liked you cards"),this.likedYouCards=null,this.likedYouCardIndex=0),null)}if(!window.location.href.includes("encounters")){const i=document.querySelector('[data-qa-icon-name="tabbar-encounters"]');i&&((r=i.parentElement)!=null&&r.parentElement)&&i.parentElement.parentElement.click()}return document.querySelector('[data-qa="first-card"]')}catch(s){return t("getProfileCard error: "+s),null}}getName(){var e,r,s;try{return this.profileCard?((s=(r=(e=this.profileCard.querySelector(".profile-card-info__name"))==null?void 0:e.querySelector('[data-qa="profile-info__name"]'))==null?void 0:r.innerText)==null?void 0:s.trim())??"":(t("getName: profileCard not set"),"")}catch(i){return t("getName error: "+i),""}}getAge(){var e,r,s;try{return this.profileCard?((s=(r=(e=this.profileCard.querySelector(".profile-card-info__name"))==null?void 0:e.querySelector('[data-qa="profile-info__age"]'))==null?void 0:r.innerText)==null?void 0:s.trim())??"":(t("getAge: profileCard not set"),"")}catch(i){return t("getAge error: "+i),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){return 0}getLocation(){var e,r,s;try{const i=document.querySelector('[data-qa="location"]');if(i)return((s=(r=(e=i.children[0])==null?void 0:e.children[0])==null?void 0:r.children[1])==null?void 0:s.innerText)??""}catch(i){t("getLocation error: "+i)}return""}getProfileDescriptionText(){try{if(!this.profileCard)return t("getProfileDescriptionText: profileCard not set"),"";const e=this.profileCard.querySelector(".profile-card-full__content");return e?e.innerText:""}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{if(!this.profileCard)return t("getProfileText: profileCard not set"),"";const e=[];e.push((this.getName()??"").toLowerCase());const r=this.profileCard.querySelector(".profile-card-full__content");return r&&e.push(r.innerText.trim().toLowerCase()),e.join(" ")}catch(e){return t("getProfileText error: "+e),""}}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getPhotoCount(){try{if(!this.profileCard)return t("getPhotoCount: profileCard not set"),1;const e=this.profileCard.querySelectorAll(".user-section--photo");if(e)return e.length}catch(e){t("getPhotoCount error: "+e)}return 1}getVerifiedStatus(){try{return this.profileCard?!!this.profileCard.querySelector('[data-qa="verification-status-full"]'):(t("getVerifiedStatus: profileCard not set"),!1)}catch(e){return t("getVerifiedStatus error: "+e),!1}}getRecentlyActive(){return!0}doRandomUsageSimulation(){var e,r;try{if(!this.profileCard){t("doRandomUsageSimulation: profileCard not set");return}const s=this.profileCard.querySelector(".profile-card__content-scroller"),i=Math.floor(Math.random()*1100+500)+this.lastScroll,o=Math.floor(Math.random()*500+500);this.lastScroll=i,s&&(s.scroll({top:i,left:0,behavior:"smooth"}),((e=this.autoSwiper)==null?void 0:e.randomUsageCounter)===((r=this.autoSwiper)==null?void 0:r.radnomUsageNumber)&&(setTimeout(()=>{s.scroll({top:0,left:0,behavior:"smooth"})},o),this.lastScroll=0))}catch(s){t("doRandomUsageSimulation error: "+s)}}reset(){}}class ce{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"supportRandomUsageSimulation",!0)}getSiteName(){return"pof"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return window.body??document.body??document}swipeLeft(){try{history.back(),setTimeout(()=>{const e=document.querySelector("#meetmevotebutton-no");e?e.click():t("swipeLeft: meetmevotebutton-no not found")},100)}catch(e){t("swipeLeft error: "+e)}}swipeRight(){try{history.back(),setTimeout(()=>{const e=document.querySelector("#meetmevotebutton-yes");e?e.click():t("swipeRight: meetmevotebutton-yes not found")},100)}catch(e){t("swipeRight error: "+e)}}removeMessages(){try{const e=document.querySelector(".upgrade-like-to-like-plus-container");if(e){const r=e.querySelector("a");r&&r.click()}}catch(e){t("removeMessages error: "+e)}}getProfileCard(){try{if(!window.location.href.includes("meetme")){const e=document.querySelector("[href='/meetme']");if(e&&e.hidden===!1)return e.click(),null}if(window.location.href.includes("viewprofile"))return document.querySelector("#main-content");{const e=document.querySelector("#meetme-stack"),r=e?e.querySelector("a"):null;r&&r.click()}}catch(e){t("getProfileCard error: "+e)}return null}getProfileInfosElement(){var e,r,s,i,o,n,c;try{const u=document.querySelector("#profile-banner");if(u){const m=(c=(n=(o=(i=(s=(r=(e=u.children[0])==null?void 0:e.children[1])==null?void 0:r.children[0])==null?void 0:s.children[0])==null?void 0:i.children[0])==null?void 0:o.children[2])==null?void 0:n.children[0])==null?void 0:c.children[0];if(m)return m}}catch(u){t("getProfileInfosElement error: "+u)}return null}getName(){try{const e=this.getProfileInfosElement();if(e&&e.children[0])return e.children[0].innerText.trim()}catch(e){t("getName error: "+e)}return""}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";const e=this.profileCard.querySelector("#profile-banner"),r=e?e.querySelector("#attributelist-item-age"):null;if(r&&r.children[1])return r.children[1].innerText}catch(e){t("getAge error: "+e)}return""}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){return 0}getLocation(){try{if(!this.profileCard)return t("getLocation: profileCard not set"),"";const e=this.profileCard.querySelector("#profile-banner"),r=e?e.querySelector("#attributelist-item-location"):null;if(r&&r.children[1])return r.children[1].innerText.split(",")[0]}catch(e){t("getLocation error: "+e)}return""}getProfileDescriptionText(){try{return this.profileCard?this.profileCard.innerText.trim():(t("getProfileDescriptionText: profileCard not set"),"")}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{return this.profileCard?this.profileCard.innerText.trim():(t("getProfileText: profileCard not set"),"")}catch(e){return t("getProfileText error: "+e),""}}getPhotoCount(){try{return this.profileCard?this.profileCard.querySelectorAll('[id^="profile-image-wrapper-"]').length/2:(t("getPhotoCount: profileCard not set"),1)}catch(e){return t("getPhotoCount error: "+e),1}}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getVerifiedStatus(){return!0}getRecentlyActive(){return!0}doRandomUsageSimulation(){try{const e=Math.floor(Math.random()*300+300),r=Math.floor(Math.random()*700+300);setTimeout(()=>{window.scroll({top:e,left:0,behavior:"smooth"})},r)}catch(e){t("doRandomUsageSimulation error: "+e)}}reset(){}}class ue{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null)}getSiteName(){return"zoosk"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return window??document??document.body}swipeLeft(){try{if(!this.profileCard)return t("swipeLeft: profileCard not set"),!1;const e=this.profileCard.querySelector(".profile-card-v2-button-no");e?e.click():t("swipeLeft: .profile-card-v2-button-no not found"),this.clickNextProfileBtn()}catch(e){return t("swipeLeft error: "+e),!1}}swipeRight(){try{if(!this.profileCard)return t("swipeRight: profileCard not set"),!1;const e=this.profileCard.querySelector(".profile-card-v2-button-yes");e?e.click():t("swipeRight: .profile-card-v2-button-yes not found"),this.clickNextProfileBtn()}catch(e){return t("swipeRight error: "+e),!1}}clickNextProfileBtn(){try{if(!this.profileCard){t("clickNextProfileBtn: profileCard not set");return}const e=this.profileCard.querySelector(".slide-nav-v3__next");e&&e.click()}catch(e){t("clickNextProfileBtn error: "+e)}}removeMessages(){var e,r,s,i;try{document.querySelector(".encounters-user__blocker")&&this.autoSwiper&&(this.autoSwiper.stop=!0);const n=document.getElementsByClassName("encounters-match__cta-action");n.length>1&&((e=n[1])!=null&&e.children[0])&&n[1].children[0].click(),(r=this.autoSwiper)!=null&&r.simulateKeyEvent&&((i=(s=this.autoSwiper)==null?void 0:s.keys)!=null&&i.escape)&&(this.autoSwiper.simulateKeyEvent("keyup",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keydown",this.autoSwiper.keys.escape),this.autoSwiper.simulateKeyEvent("keypress",this.autoSwiper.keys.escape))}catch(o){t("removeMessages error: "+o)}}getProfileCard(){try{return document.querySelector("[data-zat=current-card-true]")}catch(e){return t("getProfileCard error: "+e),null}}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getName(){try{if(!this.profileCard)return t("getName: profileCard not set"),"";const e=this.profileCard.querySelector("[data-zat=profile-other-user-name-and-age]");return e?e.innerText.trim().split(", ")[0]:""}catch(e){return t("getName error: "+e),""}}getAge(){try{if(!this.profileCard)return t("getAge: profileCard not set"),"";const e=this.profileCard.querySelector("[data-zat=profile-other-user-name-and-age]");return e?e.innerText.trim().split(", ")[1]:""}catch(e){return t("getAge error: "+e),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){let e=5e5;try{if(!this.profileCard)return t("getDistance: profileCard not set"),e;const r=this.profileCard.querySelector("[data-zat=profile-other-user-location]"),s=r?r.innerText.trim():"";if(s&&s.includes("(")){const i=parseInt(s.split("(")[1].split(" ")[0]);Number.isInteger(i)&&(e=i)}}catch(r){t("getDistance error: "+r)}return e}getLocation(){try{if(!this.profileCard)return t("getLocation: profileCard not set"),"";const e=this.profileCard.querySelector("[data-zat=profile-other-user-location]"),r=e?e.innerText.trim():"";return r&&r.includes("(")?r.split("(")[0].trim():r}catch(e){return t("getLocation error: "+e),""}}getProfileDescriptionText(){try{const e=[],r=document.querySelectorAll(".extended-info")[1];if(r){const s=r.querySelector(".basics-v2-list");s&&e.push(s.innerText.replaceAll(`
`," "))}return e.join(" ")}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{if(!this.profileCard)return t("getProfileText: profileCard not set"),"";const e=[];e.push((this.getName()??"").toLowerCase()),e.push(this.getProfileDescriptionText());const r=this.profileCard.querySelector("[data-zat=profile-other-user-location]");return r&&e.push(r.innerText.trim()),e.join(" ")}catch(e){return t("getProfileText error: "+e),""}}getPhotoCount(){try{return this.profileCard?this.profileCard.querySelectorAll(".photo-counter").length:(t("getPhotoCount: profileCard not set"),1)}catch(e){return t("getPhotoCount error: "+e),1}}getVerifiedStatus(){try{return this.profileCard?!!this.profileCard.querySelector(".profile-card-icon--video-verified"):(t("getVerifiedStatus: profileCard not set"),!1)}catch(e){return t("getVerifiedStatus error: "+e),!1}}getRecentlyActive(){return!0}reset(){}}class de{constructor(){h(this,"autoSwiper",null);h(this,"profileCard",null);h(this,"beelineCards",null);h(this,"beelineCardIndex",0);h(this,"supportRandomUsageSimulation",!0)}getSiteName(){return"match"}getSwipeSpeedModifier(){return 1}getElementForKeyEvents(){return window??document??document.body}swipeLeft(){try{const e=document.querySelector('[data-test="dislike-text-button"]');e?e.click():t("swipeLeft: dislike-text-button not found")}catch(e){t("swipeLeft error: "+e)}}swipeRight(){try{const e=document.querySelector('[data-test="like-icon-button"]');e?e.click():t("swipeRight: like-icon-button not found")}catch(e){t("swipeRight error: "+e)}}removeMessages(){try{const e=document.querySelector('[data-test="layer-mask-close-icon"]');e&&e.click()}catch(e){t("removeMessages error: "+e)}}getProfileCard(){try{const e=document.querySelector('[data-test="profile-page"]');if(e)return e;const r=document.querySelector('[data-test="feed-card-info"]');r?r.click():t("getProfileCard: feed-card-info button not found")}catch(e){t("getProfileCard error: "+e)}return null}getProfilePictureUrls(){return this.profileCard?D(this.profileCard):(t("getProfilePictureUrls: profileCard not set"),[])}getName(){try{if(!this.profileCard)return t("getName: profileCard not set"),"";const e=this.profileCard.querySelector("[class^='profile-details-nickname__NicknameContainer']");return e?e.innerText.trim():""}catch(e){return t("getName error: "+e),""}}getAge(){var e;try{if(!this.profileCard)return t("getAge: profileCard not set"),"";const r=this.profileCard.querySelector("[class^='profile-details-age-city__Age']");return((e=(r?r.textContent:"200").match(/\d+/))==null?void 0:e[0])??""}catch(r){return t("getAge error: "+r),""}}getHeight(){try{const e=this.getProfileText(),r=/(\d{1,3}\s?cm)|(\d'?\d{0,2})'(\d{0,2})"?/g,s=e.match(r);if(s){const i=s[0];if(i.includes("cm"))return parseInt(i);{const[o,n]=i.split("'"),u=(parseInt(o)*12+(n?parseInt(n.replace('"',"")):0))*2.54;return Math.round(u)}}}catch(e){t("getHeight error: "+e)}return null}getDistance(){var e;try{if(!this.profileCard)return t("getDistance: profileCard not set"),5e5;const r=this.profileCard.querySelector("[data-test='dealbreaker-distance']");return((e=(r?r.textContent:"500000").match(/\d+/))==null?void 0:e[0])??"500000"}catch(r){return t("getDistance error: "+r),5e5}}getLocation(){try{if(!this.profileCard)return t("getLocation: profileCard not set"),"";const e=this.profileCard.querySelector("[class^='profile-details-age-city__City']");return e?e.textContent.trim():""}catch(e){return t("getLocation error: "+e),""}}getProfileDescriptionText(){try{return this.profileCard?this.profileCard.innerText.toLowerCase():(t("getProfileDescriptionText: profileCard not set"),"")}catch(e){return t("getProfileDescriptionText error: "+e),""}}getProfileText(){try{return this.profileCard?this.profileCard.innerText.toLowerCase():(t("getProfileText: profileCard not set"),"")}catch(e){return t("getProfileText error: "+e),""}}getPhotoCount(){var e;try{const r=document.querySelector(".gallery-more-buttonstyle__MoreButton-sc-1bicwrw-0"),i=(e=(r?r.textContent:"0").match(/\d+/))==null?void 0:e[0],o=document.querySelectorAll("[class^='gallery-placeholderstyle__GalleryPlaceholder']"),n=o?o.length:0;return i?parseInt(i)+3:4-parseInt(n)}catch(r){return t("getPhotoCount error: "+r),1}}getVerifiedStatus(){return!1}getRecentlyActive(){return!0}doRandomUsageSimulation(){try{const e=document.querySelector("[class^='scrollablestyle__ScrollableContainer']"),r=Math.floor(Math.random()*700+300),s=Math.floor(Math.random()*700+300);e&&typeof e.scroll=="function"&&e.scroll({top:r,left:0,behavior:"smooth"})}catch(e){t("doRandomUsageSimulation error: "+e)}}reset(){}}class te{constructor(e){h(this,"version",null);h(this,"site",null);h(this,"sessionStartedAt",null);h(this,"sessionEndedAt",null);h(this,"cardTries",{cardTryCounter:0,cardTryReloadCounter:0,sameProfileFoundCounter:0,sameProfileFoundReloadCounter:0,lastProfile:null,lastLastProfile:null});h(this,"stop",!1);h(this,"userStopped",!1);h(this,"ignoreUnload",!1);h(this,"swipeCounts",{total:0,left:0,right:0});h(this,"nextSwipes",[]);h(this,"swipeCount",0);h(this,"reloadPageAtSwipes",null);h(this,"breakAtSwipes",null);h(this,"breakDuration",null);h(this,"longitude",null);h(this,"latitude",null);h(this,"options",{uuid:null,sessionId:null,userId:null,userEmail:"",isFree:!0,isBasic:!1,isPro:!1,isUltimate:!1,site:null,enableMaxSwipesFilter:!1,maxSwipes:100,forceMatch:!1,enableLeftSwipesPercentageFilter:!1,leftSwipePercentage:[25,50],enableAgeFilter:!1,minMaxAge:[18,99],enableHeightFilter:!1,minMaxHeight:[155,180],enableDistanceFilter:!1,maxDistance:10,skipEmptyDistance:!1,enableMinPicturesFilter:!1,minPictures:2,minMaxSwipeTime:[2,6],enableBreak:!1,breakBetweenSwipes:[150,250],breakDuration:[20,360],enableAutomaticPageReload:!1,reloadPageBetweenSwipes:[150,200],enableDelayAfterPageReload:!1,delayBetweenAfterPageReload:[120,720],delayAfterPageReload:null,enableRandomUsageSimulation:!0,randomUsageSimulation:[1,4],enableGatheringPictureUrls:!1,noEmptyDescription:!1,onlyVerifyedProfiles:!1,onlyRecentlyActive:!1,bannedWords:[],preferredWords:[],requiredWords:[],stats:{swipes_left:0,swipes_right:0,bannedWords:{},preferredWords:{},requiredWords:{}},log:[],swipeLog:[],tabId:null,withNotification:!0,stopOnRightSwipe:!1});h(this,"profile",{datetime:"",reason:"",name:"",age:0,height:0,distance:0,location:"",photosCount:0,description:"",verifyed:!1,pictures:[]});h(this,"keys",{arrowLeft:{key:"ArrowLeft",code:"ArrowLeft",keyCode:37,which:37,charCode:0},arrowUp:{key:"ArrowUp",code:"ArrowUp",keyCode:38,which:38,charCode:0},arrowRight:{key:"ArrowRight",code:"ArrowRight",keyCode:39,which:39,charCode:0},arrowDown:{key:"ArrowDown",code:"ArrowDown",keyCode:40,which:40,charCode:0},escape:{key:"Escape",keyCode:27,code:27},Digit1:{key:"1",code:"Digit1",keyCode:49,which:49,charCode:49},Digit2:{key:"2",code:"Digit2",keyCode:50,which:50,charCode:50}});h(this,"mobile",!1);h(this,"forcedMatchProgress",{left:!1,right:!1,reload:!1});this.options=e,this.setSite(),this.setMobile(),this.version=p.runtime.getManifest().version,this.regenerateRandomSettings(),this.fetchLocation(),t("AutoSwiper Settings for this RUN",this.options)}formatDateTime(e){return e.toLocaleString("sv-SE",{hour12:!1})}regenerateRandomSettings(){this.breakAtSwipes=Math.round(this.getRandom(this.options.breakBetweenSwipes[0],this.options.breakBetweenSwipes[1])),this.breakDuration=Math.round(this.getRandom(this.options.breakDuration[0],this.options.breakDuration[1])),this.options.enableBreak&&(t("automatic break at "+this.breakAtSwipes+" swipes"),t("automatic break duration "+this.breakDuration+" minutes")),this.reloadPageAtSwipes=Math.round(this.getRandom(this.options.reloadPageBetweenSwipes[0],this.options.reloadPageBetweenSwipes[1])),this.options.delayAfterPageReload=Math.round(this.getRandom(this.options.delayBetweenAfterPageReload[0],this.options.delayBetweenAfterPageReload[1])),this.options.enableAutomaticPageReload&&(t("automatic page reload at "+this.reloadPageAtSwipes+" swipes"),t("automatic page reload delay "+this.options.delayAfterPageReload+" minutes")),this.regenerateRandomUsageNumber()}regenerateRandomUsageNumber(){this.radnomUsageNumber=Math.floor(this.getRandom(this.options.randomUsageSimulation[0],this.options.randomUsageSimulation[1]))}getRandom(e,r){return Math.random()*(r-e)+e}async getDistanceFromApi(){(this.latitude===null||this.longitude===null)&&this.fetchLocation();const e=J+`?from_latitude=${this.latitude}&from_longitude=${this.longitude}&to_location_query=${this.profile.location}`,r=await p.storage.local.get("loginToken");let s=await fetch(e,{headers:{Authorization:`Bearer ${r.loginToken}`}});if(!s.ok)return console.error("HTTP-Error: "+s.status),0;let i=await s.json();return t("Location",this.profile.location),t("Distance from API:",i.distance),i.distance}async startSessionOnApi(){if(this.options.isFree)return null;const e=await p.storage.local.get("loginToken");if(!e.loginToken)return null;try{const{startSession:r}=await Promise.resolve().then(()=>$),s={site:this.site.getSiteName(),scheduled_session_id:this.options.scheduledSessionId||null},i={loginToken:e.loginToken,uuid:this.options.uuid},o=await r(s,i,null,null);return o&&o.status&&o.data&&o.data.session_id?(console.log("[Session] Started session with ID:",o.data.session_id),o.data.session_id):(console.error("[Session] Invalid response from startSession:",o),null)}catch(r){return console.error("[Session] Error starting session:",r),null}}async addSessionToApi(){if(this.options.isFree||this.swipeCounts.total===0)return;const e=await p.storage.local.get("loginToken");if(!e.loginToken)return;const r=this.sessionStartedAt||this.formatDateTime(new Date),s=this.sessionEndedAt||this.formatDateTime(new Date);if(this.options.sessionId){console.log("[Session] Ending session with unified approach, session ID:",this.options.sessionId);try{const{endSession:n}=await Promise.resolve().then(()=>$),c={swipes_left:this.swipeCounts.left,swipes_right:this.swipeCounts.right,swipes_total:this.swipeCounts.total,logs:this.options.swipeLog,ended_at:s},u={loginToken:e.loginToken,uuid:this.options.uuid},m=await n(this.options.sessionId,c,u,null,null);console.log("[Session] Session ended successfully with unified approach");return}catch(n){console.error("[Session] Error ending session with unified approach:",n);try{const{failSession:c}=await Promise.resolve().then(()=>$);await c(this.options.sessionId,{reason:"Session completion failed",message:n.message,stack:n.stack,timestamp:new Date().toISOString(),session_type:"regular"},mockStore,null,null),console.log("[Session] Session marked as failed due to completion error");return}catch(c){console.error("[Session] Failed to report session failure:",c)}}}const i={uuid:this.options.uuid,swipes_total:this.swipeCounts.total,swipes_left:this.swipeCounts.left,swipes_right:this.swipeCounts.right,site:this.site.getSiteName(),logs:this.options.swipeLog,started_at:r,ended_at:s};let o=await fetch(Z,{headers:{Authorization:`Bearer ${e.loginToken}`,Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)});if(!o.ok)return console.error("HTTP-Error: "+o.status),0}async loadProfileData(){this.profile.datetime=new Date().toISOString(),this.profile.name=this.site.getName(),this.profile.age=this.site.getAge(),this.profile.height=this.site.getHeight(),this.profile.distance=this.site.getDistance(),this.profile.location=this.site.getLocation(),(this.options.isPro||this.options.isUltimate)&&this.profile.location.length>0&&(this.profile.distance===0||this.profile.distance===5e5)&&(this.profile.distance=await this.getDistanceFromApi()),this.profile.photosCount=this.site.getPhotoCount(),t("photos count",this.profile.photosCount),this.profile.description=this.site.getProfileDescriptionText(),this.profile.texts=this.site.getProfileText(),this.profile.verifyed=this.site.getVerifiedStatus(),this.options.enableGatheringPictureUrls?this.profile.pictures=await this.site.getProfilePictureUrls():this.profile.pictures=[],t("pictures urls",this.profile.pictures)}getWords(e){const r=[],s=this.options[e],i=this.options.stats[e]||{};return this.profile.texts===void 0?this.profile.texts:(t("searching for",e,"words",s),s.find(o=>{let n=!1,c=null;if(o.startsWith("/")&&o.endsWith("/"))try{c=new RegExp(o.slice(1,-1))}catch(u){t(u)}c instanceof RegExp?(t("Regex Search",c),n=c.test(this.profile.texts)):(t("String Search",o),n=this.profile.texts.toLowerCase().search(o.toLowerCase())!==-1||o==="@"&&this.profile.texts.toLowerCase().search(o.toLowerCase())!==-1),n&&(i[o]===void 0&&(i[o]=0),i[o]++,r.push(o))}),(r==null?void 0:r.length)>0&&t(`found ${e} words:`,r),this.options.stats[e]=i,r)}getBannedWords(){return this.getWords("bannedWords")}getPreferredWords(){return this.getWords("preferredWords")}getRequiredWords(){return this.getWords("requiredWords")}createMarkerAt(e,r,s){const i=document.createElement("div");i.style.position="absolute",i.style.left=`${e}px`,i.style.top=`${r}px`,i.style.width="10px",i.style.height="10px",i.style.backgroundColor="red",i.style.color="white",i.style.textAlign="center",i.style.borderRadius="50%",i.style.zIndex="1000",i.innerText=s,document.body.appendChild(i)}simulateMouseDragAndDropRightToLeft(e){const r=e.getBoundingClientRect(),s=this.getRandom(60,200),i=this.getRandom(-120,120),o=this.getRandom(120,220),n=this.getRandom(-120,120),c=r.left+(r.right-r.left)/2+s,u=r.top+(r.bottom-r.top)/2+i,m=r.left+(r.right-r.left)/2-o,A=r.top+(r.bottom-r.top)/2+n;this.simulateMouseDragAndDrop(e,c,u,m,A)}simulateMouseDragAndDrop(e,r,s,i,o){function n(A,T,C){return new MouseEvent(A,{bubbles:!0,cancelable:!0,clientX:T,clientY:C,view:window})}const c=n("mousedown",r,s);e.dispatchEvent(c);const u=n("mousemove",i,o);e.dispatchEvent(u);const m=n("mouseup",i,o);e.dispatchEvent(m)}simulateKeyEvent(e,r){const s=new KeyboardEvent(e,{char:"",shiftKey:!1,bubbles:!0,cancelable:!0,...r}),i=this.site.getElementForKeyEvents();i&&i.dispatchEvent(s)}simulateDebuugerKeyEvent(e){t("sent: auto-swiper-message-backgroundjs-simulate-key-event"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-simulate-key-event",tabId:this.options.tabId,keyData:e})}simulateDebuggerMouseClick(e){const r=e.getBoundingClientRect(),s=12,i=r.left+(r.right-r.left)/2+(Math.random()*2*s-s),o=r.top+(r.bottom-r.top)/2+(Math.random()*2*s-s);t("sent: auto-swiper-message-backgroundjs-simulate-mouse-click"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-simulate-mouse-click",tabId:this.options.tabId,x:i,y:o})}addLog(){this.options.swipeLog.push(this.profile)}resetAfterSwipe(){this.regenerateRandomUsageNumber()}swipe(e){this.swipeCounts.total++,this.swipeCounts[e]++,this.options.stats[`swipes_${e}`]++,this.addLog(),t(this.swipeCounts.total),t(this.profile.name,this.profile.age,"Years",this.profile.height,"Height",this.profile.distance,"Distance",this.profile.photosCount,"Pictures"),t(e==="left"?"<--":"-->",this.profile.reason),this.cardTries.lastProfile={...this.profile},this.cardTries.lastLastProfile={...this.cardTries.lastProfile},this.site[`swipe${e.charAt(0).toUpperCase()+e.slice(1)}`](),this.site.reset()}swipeLeft(){this.swipe("left")}swipeRight(){if(this.options.stopOnRightSwipe){this.stop=!0,this.ignoreUnload=!0;return}this.swipe("right")}resetProfile(){this.profile={datetime:"",reason:null,name:"",age:0,distance:0,photosCount:0},this.site.removeMessages()}setSite(){const e={bumble:oe,tinder:se,okcupid:ne,lovoo:ae,badoo:le,pof:ce,zoosk:ue,match:de},r=Object.keys(e).find(i=>window.location.href.includes(i)),s=e[r];if(s){const i=new s;i.autoSwiper=this,this.site=i}}setMobile(){this.mobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}cardNotFound(){this.cardTries.cardTryCounter>5?(this.ignoreUnload=!0,this.cardTries.cardTryCounter=0,this.cardTries.cardTryReloadCounter>3?this.sendMessageToApp("ERROR_SWIPING_NOT_WORKING"):(t("auto swiper: no card found auto reload page for the "+this.cardTries.cardTryReloadCounter+" time"),this.cardTries.cardTryReloadCounter++,t("sent: auto-swiper-message-backgroundjs-reload-tab"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-reload-tab",swipeCounts:this.swipeCounts,options:this.options,cardTries:this.cardTries}))):this.cardTries.cardTryCounter++}sameProfileFound(){this.cardTries.sameProfileFoundCounter>5?(t("auto swiper: same card as last time something is wrong"),this.ignoreUnload=!0,this.cardTries.sameProfileFoundCounter=0,this.cardTries.lastProfile=null,this.cardTries.lastLastProfile=null,this.cardTries.sameProfileFoundReloadCounter>3?this.sendMessageToApp("ERROR_SWIPING_NOT_WORKING"):(t("auto swiper: same card as last time auto reload page for the "+this.cardTries.sameProfileFoundReloadCounter+" time"),this.cardTries.sameProfileFoundReloadCounter++,t("sent: auto-swiper-message-backgroundjs-reload-tab"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-reload-tab",swipeCounts:this.swipeCounts,options:this.options,cardTries:this.cardTries}))):(t("auto swiper: same card as last time on try "+this.cardTries.sameProfileFoundCounter),this.cardTries.sameProfileFoundCounter++)}getProfileCard(){let e=null;try{e=this.site.getProfileCard(),e?(this.cardTries.cardTryCounter=0,this.cardTries.cardFoundCounter=0):this.cardNotFound()}catch(r){t(r),this.cardNotFound()}return e}sendMessageToApp(e){t("sent: auto-swiper-message-popupjs-show-message"),p.runtime.sendMessage({action:"auto-swiper-message-popupjs-show-message",message:e})}distributeSwipesEvenly(e,r){let s=[],i=e.length/(e.length+r.length),o=1-i,n=0,c=0;for(let u=0;u<e.length+r.length;u++)u*i>=n&&n<e.length?(s.push(e[n]),n++):u*o>=c&&c<r.length&&(s.push(r[c]),c++);return s}getCurrentLocation(){return new Promise((e,r)=>{navigator.geolocation.getCurrentPosition(e,r)})}async fetchLocation(){const e=await p.storage.local.get({longitude:null,latitude:null});if(e.longitude!==null&&e.latitude!==null)this.longitude=e.longitude,this.latitude=e.latitude;else try{const r=await this.getCurrentLocation();this.longitude=r.coords.latitude,this.latitude=r.coords.latitude}catch(r){t("Could not get current position",r)}t("Latitude is :",this.latitude),t("Longitude is :",this.longitude)}async check(){var r,s,i,o,n,c,u,m,A,T,C,x;if(t("🔍 Starting profile check for:",((r=this.profile)==null?void 0:r.name)||"Unknown"),this.options.enableMaxSwipesFilter&&this.options.maxSwipes===this.swipeCounts.total&&(this.stop=!0,this.ignoreUnload=!0,t("max swipes reached, stopping auto swiper")),this.options.isFree===!0&&this.swipeCounts.total===100&&(this.stop=!0,this.ignoreUnload=!0,t("swipe limit reached for free users, stopping auto swiper")),this.options.isBasic===!0&&this.swipeCounts.total===1e3&&(this.stop=!0,this.ignoreUnload=!0,t("swipe limit reached for basic users, stopping auto swiper")),this.site.profileCard=this.getProfileCard(),this.stop){t("🛑 Auto swiper stopped, exiting check");return}if(!this.site.profileCard){t("⚠️ No profile card found, skipping check");return}if(this.site.profileCard)if(this.site.supportRandomUsageSimulation&&this.options.enableRandomUsageSimulation&&this.randomUsageCounter<=this.radnomUsageNumber){this.randomUsageCounter++,t("🎲 Random usage simulation triggered"),this.site.doRandomUsageSimulation();return}else this.randomUsageCounter=0;await this.loadProfileData(),t("📋 Profile data loaded:",{name:this.profile.name,age:this.profile.age,distance:this.profile.distance,photosCount:this.profile.photosCount,verifyed:this.profile.verifyed,description:this.profile.description?this.profile.description.substring(0,100)+"...":"No description",height:this.profile.height}),t("⚙️ Verification settings:",{onlyVerifyedProfiles:this.options.onlyVerifyedProfiles,siteName:this.site.getSiteName(),subscriptionLevel:{isBasic:this.options.isBasic,isPro:this.options.isPro,isUltimate:this.options.isUltimate}});const e=(a,f)=>(a==null?void 0:a.name)===(f==null?void 0:f.name)&&(a==null?void 0:a.age)===(f==null?void 0:f.age)&&(a==null?void 0:a.distance)===(f==null?void 0:f.distance)&&(a==null?void 0:a.photosCount)===(f==null?void 0:f.photosCount)&&(a==null?void 0:a.description)===(f==null?void 0:f.description)&&(a==null?void 0:a.texts)===(f==null?void 0:f.texts)&&(a==null?void 0:a.verifyed)===(f==null?void 0:f.verifyed);if(this.cardTries.lastProfile&&e(this.profile,this.cardTries.lastProfile)&&this.cardTries.lastLastProfile&&e(this.cardTries.lastProfile,this.cardTries.lastLastProfile)){t("🔄 Same profile detected three times in a row, handling..."),this.sameProfileFound();return}else this.cardTries.sameProfileFoundCounter=0;if(this.options.forceMatch&&(this.options.isPro||this.options.isUltimate)){if(t("🎯 Forced Match Mode - Progress:",this.forcedMatchProgress),this.forcedMatchProgress.left===!1){t("⬅️ DECISION: Force Match - Swiping LEFT (required for force match)"),this.profile.reason="Force Match - Required Left Swipe",this.swipeLeft(),this.forcedMatchProgress.left=!0;return}if(this.forcedMatchProgress.right===!1){t("➡️ DECISION: Force Match - Swiping RIGHT (required for force match)"),this.profile.reason="Force Match - Required Right Swipe",this.swipeRight(),this.forcedMatchProgress.right=!0;return}if(this.forcedMatchProgress.left===!0&&this.forcedMatchProgress.right===!0){this.forcedMatchProgress.left=!1,this.forcedMatchProgress.right=!1,this.ignoreUnload=!0,t("🔄 Force Match complete - reloading tab"),t("sent: auto-swiper-message-backgroundjs-reload-tab"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-reload-tab",swipeCounts:this.swipeCounts,options:this.options,swipeLog:this.options.swipeLog,stats:this.options.stats,cardTries:this.cardTries});return}}if((this.options.isBasic||this.options.isPro||this.options.isUltimate)&&this.options.enableLeftSwipesPercentageFilter){if(((s=this.nextSwipes)==null?void 0:s.length)>0)return this.nextSwipes.shift()==="left"?(t("⬅️ DECISION: Left Swipe Percentage Filter - predetermined left swipe"),this.profile.reason=p.i18n.getMessage("LEFT_SWIPES_PERCENTAGE"),this.swipeLeft()):(t("➡️ DECISION: Left Swipe Percentage Filter - predetermined right swipe"),this.profile.reason="Left Swipe Percentage Filter - Right Swipe",this.swipeRight());{let a=this.getRandom(this.options.leftSwipePercentage[0],this.options.leftSwipePercentage[1]);t("📊 Generating left swipe percentage for the next 100 swipes: "+a+"%");let f=100-a,R=[];for(let v=1;v<=a;v++)R.push("left");let k=[];for(let v=1;v<=f;v++)k.push("right");this.nextSwipes=this.distributeSwipesEvenly(R,k),t("🎲 Swipe sequence generated, restarting check");return}}if(t("📝 Profile Text: ",this.profile.texts),((i=this.options.bannedWords)==null?void 0:i.length)>0){t("🔍 Checking banned words filter...",{bannedWordsEnabled:!0,bannedWordsList:this.options.bannedWords});let a=this.getBannedWords();if((a==null?void 0:a.length)>0)return t("⬅️ DECISION: BANNED WORDS FOUND - Swiping LEFT",{foundBannedWords:a,profileTexts:this.profile.texts}),this.profile.reason=p.i18n.getMessage("REASON_BANNED_WORD")+" = "+a.join(", "),this.swipeLeft();t("✅ Banned words check passed - no banned words found")}else t("⚪ Banned words filter disabled");if((this.options.isBasic||this.options.isPro||this.options.isUltimate)&&((o=this.options.preferredWords)==null?void 0:o.length)>0){t("🔍 Checking preferred words filter...",{preferredWordsEnabled:!0,preferredWordsList:this.options.preferredWords});let a=this.getPreferredWords();if((a==null?void 0:a.length)>0)return t("➡️ DECISION: PREFERRED WORDS FOUND - Instant RIGHT swipe",{foundPreferredWords:a,profileTexts:this.profile.texts}),this.profile.reason="Preferred words found: "+a.join(", "),this.swipeRight();t("⚪ Preferred words check - no preferred words found, continuing filters")}else t("⚪ Preferred words filter disabled or not available for subscription level");if(this.options.enableAgeFilter){if(t("🔍 Checking age filter...",{ageFilterEnabled:!0,profileAge:this.profile.age,minAge:Math.min(this.options.minMaxAge[0],this.options.minMaxAge[1]),maxAge:Math.max(this.options.minMaxAge[0],this.options.minMaxAge[1])}),this.profile.age!==""&&this.profile.age<Math.min(this.options.minMaxAge[0],this.options.minMaxAge[1]))return t("⬅️ DECISION: AGE TOO YOUNG - Swiping LEFT",{profileAge:this.profile.age,minRequiredAge:Math.min(this.options.minMaxAge[0],this.options.minMaxAge[1])}),this.profile.reason=p.i18n.getMessage("REASON_TO_YOUNG"),this.swipeLeft();if(this.profile.age!==""&&this.profile.age>Math.max(this.options.minMaxAge[0],this.options.minMaxAge[1]))return t("⬅️ DECISION: AGE TOO OLD - Swiping LEFT",{profileAge:this.profile.age,maxAllowedAge:Math.max(this.options.minMaxAge[0],this.options.minMaxAge[1])}),this.profile.reason=p.i18n.getMessage("REASON_TO_OLD"),this.swipeLeft();t("✅ Age filter passed")}else t("⚪ Age filter disabled");if(this.options.enableHeightFilter&&this.profile.height!==null){if(t("🔍 Checking height filter...",{heightFilterEnabled:!0,profileHeight:this.profile.height,minHeight:Math.min(this.options.minMaxHeight[0],this.options.minMaxHeight[1]),maxHeight:Math.max(this.options.minMaxHeight[0],this.options.minMaxHeight[1])}),this.profile.height!==""&&this.profile.height<Math.min(this.options.minMaxHeight[0],this.options.minMaxHeight[1]))return t("⬅️ DECISION: HEIGHT TOO SHORT - Swiping LEFT",{profileHeight:this.profile.height,minRequiredHeight:Math.min(this.options.minMaxHeight[0],this.options.minMaxHeight[1])}),this.profile.reason=p.i18n.getMessage("REASON_HEIGHT_TO_SMALL"),this.swipeLeft();if(this.profile.height!==""&&this.profile.height>Math.max(this.options.minMaxHeight[0],this.options.minMaxHeight[1]))return t("⬅️ DECISION: HEIGHT TOO TALL - Swiping LEFT",{profileHeight:this.profile.height,maxAllowedHeight:Math.max(this.options.minMaxHeight[0],this.options.minMaxHeight[1])}),this.profile.reason=p.i18n.getMessage("REASON_HEIGHT_TO_TALL"),this.swipeLeft();t("✅ Height filter passed")}else this.options.enableHeightFilter?t("⚪ Height filter enabled but profile has no height data"):t("⚪ Height filter disabled");if(this.site.getSiteName()!=="pof")if(this.options.enableMinPicturesFilter){if(t("🔍 Checking minimum pictures filter...",{minPicturesFilterEnabled:!0,profilePhotosCount:this.profile.photosCount,minRequiredPictures:this.options.minPictures}),this.profile.photosCount<this.options.minPictures)return t("⬅️ DECISION: TOO FEW PICTURES - Swiping LEFT",{profilePhotosCount:this.profile.photosCount,minRequiredPictures:this.options.minPictures}),this.profile.reason=p.i18n.getMessage("REASON_TO_LESS_PICTURES"),this.swipeLeft();t("✅ Minimum pictures filter passed")}else t("⚪ Minimum pictures filter disabled");else t("⚪ Minimum pictures filter skipped (PoF site)");if(this.options.enableDistanceFilter)if(t("🔍 Checking distance filter...",{distanceFilterEnabled:!0,profileDistance:this.profile.distance,maxAllowedDistance:this.options.maxDistance,skipEmptyDistance:this.options.skipEmptyDistance}),this.options.maxDistance!==0&&this.profile.distance>this.options.maxDistance)if(this.options.skipEmptyDistance&&this.profile.distance===5e5)t("⚪ Distance filter - skipping empty distance (500000km indicates no distance data)");else return t("⬅️ DECISION: TOO FAR AWAY - Swiping LEFT",{profileDistance:this.profile.distance,maxAllowedDistance:this.options.maxDistance}),this.profile.reason=p.i18n.getMessage("REASON_TO_FAR_AWAY")+" "+this.profile.distance+" Distance",this.swipeLeft();else t("✅ Distance filter passed");else t("⚪ Distance filter disabled");if(this.options.isBasic||this.options.isPro||this.options.isUltimate){if(((c=(n=this.profile)==null?void 0:n.description)==null?void 0:c.length)===0&&this.options.noEmptyDescription)return t("🔍 Checking empty description filter...",{noEmptyDescriptionEnabled:this.options.noEmptyDescription,profileDescriptionLength:((m=(u=this.profile)==null?void 0:u.description)==null?void 0:m.length)||0}),t("⬅️ DECISION: EMPTY DESCRIPTION - Swiping LEFT",{profileDescription:((A=this.profile)==null?void 0:A.description)||"No description",descriptionLength:((C=(T=this.profile)==null?void 0:T.description)==null?void 0:C.length)||0}),this.profile.reason=p.i18n.getMessage("REASON_EMPTY_DESCRIPTION"),this.swipeLeft();if(this.options.noEmptyDescription?t("✅ Empty description filter passed - profile has description"):t("⚪ Empty description filter disabled"),this.site.getSiteName()==="tinder"||this.site.getSiteName()==="bumble"||this.site.getSiteName()==="lovoo"){if(t("🔍 Checking verified profiles filter...",{siteName:this.site.getSiteName(),onlyVerifyedProfilesEnabled:this.options.onlyVerifyedProfiles,profileVerifyed:this.profile.verifyed,profileVerifyedType:typeof this.profile.verifyed,profileVerifyedString:String(this.profile.verifyed),subscriptionLevel:{isBasic:this.options.isBasic,isPro:this.options.isPro,isUltimate:this.options.isUltimate}}),!this.profile.verifyed&&this.options.onlyVerifyedProfiles)return t("⬅️ DECISION: NOT VERIFIED - Swiping LEFT",{profileVerifyed:this.profile.verifyed,onlyVerifyedProfilesEnabled:this.options.onlyVerifyedProfiles,siteName:this.site.getSiteName(),debugInfo:{"this.profile.verifyed":this.profile.verifyed,"!this.profile.verifyed":!this.profile.verifyed,"this.options.onlyVerifyedProfiles":this.options.onlyVerifyedProfiles,"condition result":!this.profile.verifyed&&this.options.onlyVerifyedProfiles}}),this.profile.reason=p.i18n.getMessage("REASON_ONLY_VERIFYED_PROFILES"),this.swipeLeft();this.options.onlyVerifyedProfiles?t("✅ Verified profiles filter passed - profile is verified"):t("⚪ Verified profiles filter disabled")}else t("⚪ Verified profiles filter not applicable for site:",this.site.getSiteName());if(this.site.getSiteName()==="tinder")if(this.options.onlyRecentlyActive){const a=this.site.getRecentlyActive();if(t("🔍 Checking recently active filter...",{onlyRecentlyActiveEnabled:this.options.onlyRecentlyActive,profileRecentlyActive:a}),a)t("✅ Recently active filter passed");else return t("⬅️ DECISION: NOT RECENTLY ACTIVE - Swiping LEFT",{profileRecentlyActive:a,onlyRecentlyActiveEnabled:this.options.onlyRecentlyActive}),this.profile.reason=p.i18n.getMessage("REASON_ONLY_RECENTLY_ACTIVE"),this.swipeLeft()}else t("⚪ Recently active filter disabled");else t("⚪ Recently active filter not applicable for site:",this.site.getSiteName())}else t("⚪ Premium filters skipped - not available for free subscription");if((this.options.isBasic||this.options.isPro||this.options.isUltimate)&&((x=this.options.requiredWords)==null?void 0:x.length)>0){t("🔍 Checking required words filter...",{requiredWordsEnabled:!0,requiredWordsList:this.options.requiredWords});let a=this.getRequiredWords();if(t("📝 Required words found in profile:",a),(a==null?void 0:a.length)<1)return t("⬅️ DECISION: REQUIRED WORDS NOT FOUND - Swiping LEFT",{requiredWordsList:this.options.requiredWords,foundRequiredWords:a,profileTexts:this.profile.texts}),this.profile.reason=p.i18n.getMessage("REASON_REQUIRED_WORD"),this.swipeLeft();t("✅ Required words filter passed",{foundRequiredWords:a})}else t("⚪ Required words filter disabled or not available for subscription level");return t("➡️ DECISION: ALL FILTERS PASSED - Swiping RIGHT",{profileName:this.profile.name,summary:"Profile passed all enabled filters"}),this.profile.reason="All filters passed",this.swipeRight()}sendProgressUpdateAutoSwipe(){let e=this;try{t("sent: auto-swiper-message-popupjs-progress-update"),p.runtime.sendMessage({action:"auto-swiper-message-popupjs-progress-update",swipeCounts:e.swipeCounts,profile:e.profile})}catch(r){t("Error on sending auto-swiper-message-popupjs-progress-update",r)}}sendDonAutoSwipe(){let e=this;if((this.options.isFree||this.options.isBasic)&&p.storage.local.set({lastSwipeCount:e.swipeCounts.total}),p.storage.local.set({swipeLog:e.options.swipeLog,stats:e.options.stats}),t("sent: auto-swiper-message-popupjs-done"),p.runtime.sendMessage({action:"auto-swiper-message-popupjs-done",swipeCounts:e.swipeCounts,site:this.site.getSiteName()}),t("sent: auto-swiper-message-backgroundjs-stopped"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-stopped",tabId:this.options.tabId}),this.addSessionToApi(),!this.userStopped&&this.options.withNotification){let r=p.i18n.getMessage("BROWSER_NOTIFICATION_DON_TEXT")+" "+p.i18n.getMessage("LEFT")+": "+this.swipeCounts.left+" "+p.i18n.getMessage("RIGHT")+": "+this.swipeCounts.right+" "+p.i18n.getMessage("TOTAL")+": "+(this.swipeCounts.left+this.swipeCounts.right);t("sent: auto-swiper-message-backgroundjs-send-notification"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-send-notification",message:r})}}async startSwiping(){if(Y(),this.sessionStartedAt=this.formatDateTime(new Date),!this.options.sessionId){const e=await this.startSessionOnApi();e?(this.options.sessionId=e,console.log("[Session] Session started with unified approach, ID:",e)):console.log("[Session] Failed to start session with unified approach, continuing with legacy flow")}t("sent: auto-swiper-message-backgroundjs-start-loop"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-start-loop",options:this.options,siteSwipeSpeedModifier:this.site.getSwipeSpeedModifier()})}stopSwiping(){this.sessionEndedAt=this.formatDateTime(new Date),t("sent: auto-swiper-message-backgroundjs-stop-loop"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-stop-loop"})}async checkLoop(){const e=this;e.resetProfile(),setTimeout(async()=>{await e.check(),e.sendProgressUpdateAutoSwipe(),e.stop===!1?e.options.enableAutomaticPageReload&&e.swipeCount===e.reloadPageAtSwipes&&e.options.forceMatch===!1?(e.ignoreUnload=!0,t("sent: auto-swiper-message-backgroundjs-reload-tab"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-reload-tab",swipeCounts:e.swipeCounts,options:e.options,cardTries:e.cardTries})):e.options.enableBreak&&e.swipeCount===e.breakAtSwipes&&(t("initiate break for "+e.breakDuration+" minutes"),e.stop=!0,e.stopSwiping(),t("sent: auto-swiper-message-backgroundjs-create-restart-alarm"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-create-restart-alarm",options:e.options,swipeCounts:e.swipeCounts,cardTries:e.cardTries,breakDuration:e.breakDuration})):(e.stopSwiping(),e.sendDonAutoSwipe())},1e3)}}let S=null;const he=function(d){t("beforeunload event triggered"),S&&!S.ignoreUnload&&(t("unload event triggered and request check"),d.returnValue="Are you sure you want to stop Auto Swiper?")},ge=function(d){S&&!S.ignoreUnload&&(S.stop=!0,S.ignoreUnload=!0,t("unload event triggered, stopping auto swiper"),S.sendDonAutoSwipe())};addEventListener("beforeunload",he.bind(void 0),{capture:!0}),addEventListener("unload",ge.bind(void 0),{capture:!0}),p.runtime.onMessage.addListener(function(d,e,r){if(d.action==="auto-swiper-message-contentjs-ping"){console.log("Content script received ping, sending response");try{r({status:"ok"}),console.log("Content script sent response successfully")}catch(s){console.error("Error sending response:",s)}return!0}d.action==="auto-swiper-message-contentjs-start"&&(t("recived: auto-swiper-message-contentjs-start"),S=new te(d.options),S.startSwiping()),d.action==="auto-swiper-message-contentjs-start-after-tab-reload"&&(t("recived: auto-swiper-message-contentjs-start-after-tab-reload"),S=new te(d.options),S.swipeCounts=d.swipeCounts,S.cardTries=d.cardTries,t("cardTries",S.cardTries),S.ignoreUnload=!1,S.stop=!1,S.startSwiping()),d.action==="auto-swiper-message-contentjs-restart"&&(t("recived: auto-swiper-message-contentjs-restart"),S.stop=!1,S.ignoreUnload=!1,S.regenerateRandomSettings(),S.breakAtSwipes+=S.swipeCount,S.startSwiping()),d.action==="auto-swiper-message-contentjs-stop"&&(t("recived: auto-swiper-message-contentjs-stop"),S.stop=!0,S.userStopped=!0,S.ignoreUnload=!0),d.action==="auto-swiper-message-contentjs-check-progress"&&(t("recived: auto-swiper-message-contentjs-check-progress"),S&&S.stop===!1&&S.sendProgressUpdateAutoSwipe()),d.action==="auto-swiper-message-contentjs-check-loop"&&(t("recived: auto-swiper-message-contentjs-check-loop"),S&&S.checkLoop()),d.action==="auto-swiper-message-contentjs-ignore-unload"&&(t("recived: auto-swiper-message-contentjs-ignore-unload"),S&&(S.ignoreUnload=!0)),r()}),console.log("auto-swiper-content.js loaded"),setTimeout(function(){t("sent: auto-swiper-message-backgroundjs-loaded"),p.runtime.sendMessage({action:"auto-swiper-message-backgroundjs-loaded"})},2500)})();
